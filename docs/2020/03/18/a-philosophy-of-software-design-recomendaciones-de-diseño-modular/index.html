<!doctype html><html lang=es dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>A Philosophy of Software Design: Recomendaciones de diseño modular | The Dojo MX Blog</title>
<link rel=icon href=/favicon.svg sizes=any type=image/svg+xml><meta property="og:title" content="A Philosophy of Software Design: Recomendaciones de diseño modular"><meta property="og:description" content="Hablemos de algunos consejos para lograr ocultar la mayor cantidad de información posible en tus módulos, pero también de cómo no llevarlo demasiado lejos"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.thedojo.mx/2020/03/18/a-philosophy-of-software-design-recomendaciones-de-dise%C3%B1o-modular/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-03-18T00:00:00+00:00"><meta property="article:modified_time" content="2020-03-18T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="A Philosophy of Software Design: Recomendaciones de diseño modular"><meta name=twitter:description content="Hablemos de algunos consejos para lograr ocultar la mayor cantidad de información posible en tus módulos, pero también de cómo no llevarlo demasiado lejos"><link rel=stylesheet href=/css/extended.min.771dff75f9f3290205d2bfcbeda2ed15a5984c0414d431dfec3423ae5e37bb90.css integrity="sha256-dx3/dfnzKQIF0r/L7aLtFaWYTAQU1DHf7DQjrl43u5A=" crossorigin=anonymous><link rel=stylesheet href=/css/root.min.0e732b812b9751962e01a7c4798a1211cd5f8ac8abec7f99793fe306989e459f.css integrity="sha256-DnMrgSuXUZYuAafEeYoSEc1fisir7H+ZeT/jBpieRZ8=" crossorigin=anonymous><link rel=stylesheet href=/css/bundle.min.59eb1a059f8cd558e64375ede3e68d3e9120ddb0c6bdbab555c247689cef59e1.css integrity="sha256-WesaBZ+M1VjmQ3Xt4+aNPpEg3bDGvbq1VcJHaJzvWeE=" crossorigin=anonymous><script src=/js/bundle.cc8ae9952dbfb731affafabdf26e5c60a6910047ff59ccdeaf1daebaa26c8830.js integrity="sha256-zIrplS2/tzGv+vq98m5cYKaRAEf/Wczerx2uuqJsiDA=" crossorigin=anonymous></script><script defer src=/js/search/flexsearch.compact.64594b125f7b78bdf4fa8316955922bbebb1cd6baef3f16654bfca20309f18f8.js integrity="sha256-ZFlLEl97eL30+oMWlVkiu+uxzWuu8/FmVL/KIDCfGPg="></script><script defer src=/js/search/search.1d980f84df11f3eb7c8c5f17f541d49a0611608df179dd74fa7f06225eb56ace.js integrity="sha256-HZgPhN8R8+t8jF8X9UHUmgYRYI3xed10+n8GIl61as4="></script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel=stylesheet></head><body class=notransition><div id=container><header id=main-header><div role=navigation aria-label=Main><div class=nav-left><a href=https://blog.thedojo.mx/ style=color:inherit>The Dojo MX Blog</a></div><div class=nav-right><div style=position:absolute;width:0;height:0><div id=nav-dropdown-menu class=hidden href=#><div class=nav-item><a aria-current=true class=ancestor href=/posts/>Posts</a></div><div class=nav-item><a>Acerca de</a></div></div></div><a id=nav-dropdown-button href=#><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 6H20M4 12H20M4 18H20" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a><div id=nav-menu><div class=nav-item><a aria-current=true class=ancestor href=/posts/>Posts</a></div><div class=nav-item><a>Acerca de</a></div></div><a id=theme-switcher href=#><svg class="light-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 3V4m0 16v1M4 12H3M6.31412 6.31412 5.5 5.5m12.1859.81412L18.5 5.5M6.31412 17.69 5.5 18.5001M17.6859 17.69 18.5 18.5001M21 12H20m-4 0c0 2.2091-1.7909 4-4 4-2.20914.0-4-1.7909-4-4 0-2.20914 1.79086-4 4-4 2.2091.0 4 1.79086 4 4z" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg><svg class="dark-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.32031 11.6835c0 4.9706 4.02944 9 8.99999 9 3.7872.0 7.028-2.3392 8.3565-5.6515C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834c-4.9706.0-8.99999-4.0294-8.99999-8.99998C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996 5.65605 4.66028 3.32031 7.89912 3.32031 11.6835z" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a></div></div></header><div class="flex grow"><div id=main-pane><main id=main-content><div class=single-header><ol class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=https://blog.thedojo.mx/><span itemprop=name>Home</span>
</a><meta itemprop=position content='1'></li><span>&nbsp»&nbsp</span><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=https://blog.thedojo.mx/posts/><span itemprop=name>Posts</span>
</a><meta itemprop=position content='2'></li><span>&nbsp»&nbsp</span></ol><h1>A Philosophy of Software Design: Recomendaciones de diseño modular</h1><time class=dim datetime=2020-03-18T00:00:00+00:00>March 18, 2020</time><div class=term-container><div class=tag><a href=https://blog.thedojo.mx/tags/aposd/>#APoSD</a></div><div class=tag><a href=https://blog.thedojo.mx/tags/software-design/>#software-design</a></div><div class=tag><a href=https://blog.thedojo.mx/tags/complexity/>#complexity</a></div><div class=tag><a href=https://blog.thedojo.mx/tags/interfaces/>#interfaces</a></div><div class=tag><a href=https://blog.thedojo.mx/tags/defaults/>#defaults</a></div></ol></div><section class=page-section><p>En los artículos anteriores hemos estado hablando de cómo evitar la complejidad mediante ocultar información.</p><p>En este daremos algunas recomendaciones más y hablaremos de cómo no llevar este principio al extremo.</p><p>Hablemos primero de consejos que te ayudarán a mantener oculta la información que debe de estarlo.</p><h2 id=exponer-lo-menos-posible-estructuras-de-datos>Exponer lo menos posible estructuras de datos</h2><p>Un error común cuando creamos un módulo es exponer las estructuras de datos internas hacia otros módulos. Esto hace el código que usa tu módulo sea <em>dependiente de detalles de implementación</em> que no le conciernen y, como hemos repetido hasta el cansancio, que una decisión de diseño se vea reflejada en varios lugares.</p><p>Transforma las estructuras de datos internas en estructuras de uso general que no dependan de la implementación de tu módulo. Por ejemplo, si estás haciendo una conexión con una API de la que extraes información para otros lados del sistema, comunica esa información en una estructura de datos diseñada para tu sistema no dependiente de la API.</p><p><strong>Ejemplo</strong>. Imagina un módulo de comunicación con diferentes API&rsquo;s de mensajería como WhatsApp, Messenger, etc. Cada una las API&rsquo;s avisa de la entrada de un nuevo mensaje con sus datos específicos y en su formato. Para que to módulo encapsule la mayo cantidad de decisiones de diseño posible debería crear una estructura de mensajes que los demás módulos <em>recibieran independientemente del medio por el que llegó el mensaje</em>. Lo mismo para responder: la función encargada de la respuesta debería recibir <em>siempre los mismos datos independientemente del mensajero que se esté usando</em>.</p><h2 id=defaults-útiles>Defaults útiles</h2><p>Tal vez este punto merezca su propio artículo pero tratemos de resumirlo.</p><p>La idea de crear un módulo es, a parte de ocultar complejidad, crear un pieza de código que pueda ser <em>reutilizable</em>. Como la operación no es siempre exactamente igual, a veces hay que incluir parámetros que permitan modificar el comportamiento del módulo. Los parámetros pueden llegar a revelar detalles de implementación, así que es conveniente saber diseñarlos, primero <em>para no contaminar la interfaz</em> y segundo <em>para mantener la interfaz fácil de usar</em>.</p><p>John Ousterhout habla como ejemplo de lo mal diseñada que está la interfaz de la clase <code>FileInputStream</code> de Java, que no es capaz de realizar una lectura con buffer sin que le pases una clase que lo hace explícitamente. La lectura de un archivo con un buffer <strong>es normal</strong>, generalmente no quieres leer un archivo sin tener el buffer disponible. Entonces el default de esta clase debería ser la lectura con buffer, <em>sin que se lo tengas que pedir explícitamente</em>.</p><p><strong>Los módulos deberían hacer lo normal o lo correcto siempre que sea posible, sin que se tenga que pedir explícitamente.</strong> Es decir, tus módulos deberían estar diseñados para hacer el <em>caso más común</em> muy fácil de usar.</p><blockquote><p>Las mejores funciones son las que obtienes sin siquiera saber que existen. - <strong>John Ousterhout</strong></p></blockquote><p>Un ejemplo de buen diseño son los lenguajes modernos con la codificación de las cadenas: son <code>utf-8</code> por default, ya que es &rsquo;lo correcto&rsquo; y lo común.</p><p>Otro ejemplo son las funciones <code>split</code> (separar una cadena) y <code>join</code> (juntar los elementos de un array o lista en una cadena) de Python, Elixir y otros lenguajes: si no le pasas el carácter que usarán para dividir o pegar, lo harán por la cadena vacía, <em>facilitando un caso de uso muy común</em>.</p><p>Podemos aprender de estos buenos diseños para crear los propios. Por ejemplo, imagina que tienes un módulo que usa la fecha y hora para registrar algo. El caso <em>común</em> es que registres algo en el momento inmediato que sucedió. Un buen default sería que el módulo <em>automáticamente</em> registrara la hora actual sin esperarla del usuario, pero dando la opción de modificarla en caso de que se necesite. Un programa que hace esto es <strong>Git</strong>, registra automáticamente un commit con la hora en que lo hiciste pero tiene la opción de que la especifiques o modifiques.</p><h2 id=aisla-dentro-de-las-clases-y-paquetes>Aisla dentro de las clases y paquetes</h2><p>Cuando trabajas con clases, es buena idea crear métodos independientes (privados en caso de ser posible), que oculten información <em>del resto de la clase</em>. Piensa en esto como en aplicar los principios anteriores a nivel de clase. Además las variables de clase o de instancia deberían ser usadas en el <strong>menor número de lugares posible</strong>.</p><p>Si estás usando un lenguaje funcional o procedural, <em>aplica este principio al nivel de tus paquetes</em> (y definitivamente evita variables globales lo más que puedas).</p><p>Finalmente hablemos de cómo llevar todo esto demasiado lejos.</p><h2 id=la-clase-dios>La clase dios</h2><p>En artículos pasados hablamos un poco de que es mejor crear clases grandes que encapsulen decisiones de diseño completas en vez de dividir esas decisiones de diseño. Pero si no tenemos cuidado, esto nos puede llevar a crear lo que algunos conoce como <em>&rsquo;the God Class&rsquo;</em> o la clase dios.</p><p>Esta infame clase es la que en muchos sistemas se ha creado para mantener la mayoría de la información y operación, es decir, es una clase que lo <em>sabe</em> y lo <em>puede</em> todo. Crearla romería el propósito de ocultar información: <strong>pasarías la mayor parte del tiempo trabajando en esta clase</strong>, que por lo general sería muy complicada, teniendo tantas cosas que hacer. Así que <em>evítala a toda costa</em>.</p><h2 id=ocultar-información-que-sí-se-usa-afuera>Ocultar información que sí se usa afuera</h2><p>Sería un error grave de diseño hacer inaccesible (en lenguajes que lo permiten), o difícil de encontrar, información que se usa afuera de tu módulo. Un ejemplo que da <a href=https://amzn.to/2GdeHi5>A Philosophy of Software Design</a> es en el caso de parámetros de configuración que afecten el rendimiento de una pieza de software y que sea absolutamente necesario conocer para operar bien (podría ser el método de conexión en una red, por ejemplo).</p><p>En el ejemplo de las API&rsquo;s de mensajería del que hablamos arriba, piensa por ejemplo que la parte del código encargada de generar un mensaje <em>necesita</em> saber de dónde viene el mensaje para generar un mensaje adecuado al medio (si viene de SMS hará un mensaje mejor de 100 carácteres, por ejemplo).</p><p>O algo a lo que la mayoría de los lenguajes de programación nos obligan: especificar el modo de apertura de u archivo.</p><p>Sin embargo, tu trabajo como diseñador de software consiste en <strong>minimizar</strong> la información que se necesita fuera del módulo, para que sea lo más fácil de usar dentro de los límites.</p><h2 id=conclusión>Conclusión</h2><p>Este y los artículos anteriores quieren dejar claro algo: el trabajo principal de un módulo es ocultar información. Hay varias formas de lograrlo y detalles a los cuáles ponerles atención. Hacerlo creará código que sea más fácil de <strong>entender y mantener</strong>.</p><p>En el próximo artículo hablaremos de por qué es mejor crear módulos de propósito general.</p></section></main><footer id=main-footer><div class=footer><a href=#>Scroll to Top</a><div class=footer-copyright><div class=dim>© 2025 Héctor Patricio</div><div>Made with ❤️ and powered by <a href=https://github.com/math-queiroz/rusty-typewriter target=_blank>Rusty Typewriter</a> theme for <a href=https://gohugo.io/ target=_blank>Hugo</a></div></div></div></footer></div><aside id=side-pane class=side-sticky><div class=side-details><span>1105 words</span>
<span>6 - 7 minutes read</span></div><h3>Table Of Contents</h3><nav id=TableOfContents><ul><li><a href=#exponer-lo-menos-posible-estructuras-de-datos>Exponer lo menos posible estructuras de datos</a></li><li><a href=#defaults-útiles>Defaults útiles</a></li><li><a href=#aisla-dentro-de-las-clases-y-paquetes>Aisla dentro de las clases y paquetes</a></li><li><a href=#la-clase-dios>La clase dios</a></li><li><a href=#ocultar-información-que-sí-se-usa-afuera>Ocultar información que sí se usa afuera</a></li><li><a href=#conclusión>Conclusión</a></li></ul></nav><h3>Related</h3><ul><li><a href=/2020/03/16/a-philosophy-of-software-design-descomposici%C3%B3n-temporal/>A Philosophy of Software Design: Descomposición Temporal</a></li><li><a href=/2020/03/07/a-philosophy-of-software-design-ocultar-informaci%C3%B3n/>A Philosophy of Software Design: Ocultar información</a></li><li><a href=/2020/02/11/a-philosophy-of-software-design-desarrollo-t%C3%A1ctico-vs-estrat%C3%A9gico/>A Philosophy of Software Design: Desarrollo Táctico vs Estratégico</a></li></ul></aside></div></div></body></html>