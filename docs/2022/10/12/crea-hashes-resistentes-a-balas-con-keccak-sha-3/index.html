<!doctype html><html lang=es dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Crea hashes resistentes a balas con Keccak (SHA-3) | The Dojo MX Blog</title>
<link rel=icon href=/favicon.svg sizes=any type=image/svg+xml><meta property="og:title" content="Crea hashes resistentes a balas con Keccak (SHA-3)"><meta property="og:description" content="¿Por qué deberías usar SHA-3 para tus nuevos desarrollos? No hay pretexto ya para que uses lo mejor y más probado."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.thedojo.mx/2022/10/12/crea-hashes-resistentes-a-balas-con-keccak-sha-3/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-12T00:00:00+00:00"><meta property="article:modified_time" content="2022-10-12T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Crea hashes resistentes a balas con Keccak (SHA-3)"><meta name=twitter:description content="¿Por qué deberías usar SHA-3 para tus nuevos desarrollos? No hay pretexto ya para que uses lo mejor y más probado."><link rel=stylesheet href=/css/extended.min.771dff75f9f3290205d2bfcbeda2ed15a5984c0414d431dfec3423ae5e37bb90.css integrity="sha256-dx3/dfnzKQIF0r/L7aLtFaWYTAQU1DHf7DQjrl43u5A=" crossorigin=anonymous><link rel=stylesheet href=/css/root.min.0e732b812b9751962e01a7c4798a1211cd5f8ac8abec7f99793fe306989e459f.css integrity="sha256-DnMrgSuXUZYuAafEeYoSEc1fisir7H+ZeT/jBpieRZ8=" crossorigin=anonymous><link rel=stylesheet href=/css/bundle.min.59eb1a059f8cd558e64375ede3e68d3e9120ddb0c6bdbab555c247689cef59e1.css integrity="sha256-WesaBZ+M1VjmQ3Xt4+aNPpEg3bDGvbq1VcJHaJzvWeE=" crossorigin=anonymous><script src=/js/bundle.cc8ae9952dbfb731affafabdf26e5c60a6910047ff59ccdeaf1daebaa26c8830.js integrity="sha256-zIrplS2/tzGv+vq98m5cYKaRAEf/Wczerx2uuqJsiDA=" crossorigin=anonymous></script><script defer src=/js/search/flexsearch.compact.64594b125f7b78bdf4fa8316955922bbebb1cd6baef3f16654bfca20309f18f8.js integrity="sha256-ZFlLEl97eL30+oMWlVkiu+uxzWuu8/FmVL/KIDCfGPg="></script><script defer src=/js/search/search.1d980f84df11f3eb7c8c5f17f541d49a0611608df179dd74fa7f06225eb56ace.js integrity="sha256-HZgPhN8R8+t8jF8X9UHUmgYRYI3xed10+n8GIl61as4="></script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel=stylesheet></head><body class=notransition><div id=container><header id=main-header><div role=navigation aria-label=Main><div class=nav-left><a href=https://blog.thedojo.mx/ style=color:inherit>The Dojo MX Blog</a></div><div class=nav-right><div style=position:absolute;width:0;height:0><div id=nav-dropdown-menu class=hidden href=#><div class=nav-item><a aria-current=true class=ancestor href=/posts/>Posts</a></div><div class=nav-item><a>Acerca de</a></div></div></div><a id=nav-dropdown-button href=#><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 6H20M4 12H20M4 18H20" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a><div id=nav-menu><div class=nav-item><a aria-current=true class=ancestor href=/posts/>Posts</a></div><div class=nav-item><a>Acerca de</a></div></div><a id=theme-switcher href=#><svg class="light-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 3V4m0 16v1M4 12H3M6.31412 6.31412 5.5 5.5m12.1859.81412L18.5 5.5M6.31412 17.69 5.5 18.5001M17.6859 17.69 18.5 18.5001M21 12H20m-4 0c0 2.2091-1.7909 4-4 4-2.20914.0-4-1.7909-4-4 0-2.20914 1.79086-4 4-4 2.2091.0 4 1.79086 4 4z" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg><svg class="dark-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.32031 11.6835c0 4.9706 4.02944 9 8.99999 9 3.7872.0 7.028-2.3392 8.3565-5.6515C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834c-4.9706.0-8.99999-4.0294-8.99999-8.99998C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996 5.65605 4.66028 3.32031 7.89912 3.32031 11.6835z" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a></div></div></header><div class="flex grow"><div id=main-pane><main id=main-content><div class=single-header><ol class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=https://blog.thedojo.mx/><span itemprop=name>Home</span>
</a><meta itemprop=position content='1'></li><span>&nbsp»&nbsp</span><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=https://blog.thedojo.mx/posts/><span itemprop=name>Posts</span>
</a><meta itemprop=position content='2'></li><span>&nbsp»&nbsp</span></ol><h1>Crea hashes resistentes a balas con Keccak (SHA-3)</h1><time class=dim datetime=2022-10-12T00:00:00+00:00>October 12, 2022</time><div class=term-container><div class=tag><a href=https://blog.thedojo.mx/tags/criptografia/>#criptografia</a></div><div class=tag><a href=https://blog.thedojo.mx/tags/crypto/>#crypto</a></div><div class=tag><a href=https://blog.thedojo.mx/tags/hash/>#hash</a></div><div class=tag><a href=https://blog.thedojo.mx/tags/keccak/>#keccak</a></div></ol></div><section class=page-section><p>Ya hemos hablado en este blog de lo que es un <a href=/2021/12/02/algoritmos-criptograficos-que-es-un-hash.html>hash</a> e incluso qué hashes puedes usar para guardar tus <a href=/2021/12/03/algoritmos-criptograficos-hashes-seguros-para-alamcenar-passwords.html>passwords de manera segura</a>.</p><p>En este artículo vamos a hablar de uno en específico, el que estamos seguros que deberías usar para cualquier uso futuro en tus programas y sistemas, el que ha sido nombrado como el Secure Hash Algorithm 3 (<a href="https://www.nist.gov/publications/sha-3-standard-permutation-based-hash-and-extendable-output-functions?pub_id=919061">SHA-3</a>): <strong>Keccak</strong>.</p><h2 id=qué-es-keccak>¿Qué es Keccak?</h2><p><a href=https://keccak.team/>Keccak</a> es una familia de funciones, creadas para cubrir la necesidad de un sucesor de la versión 2 del <em>Secure Hash Algorithm</em>, que tiene algunas limitaciones y vulnerabilidades (por ejemplo, el ataque de extensión de longitud).</p><p>Está basada en una construcción de esponja, y usa internamente una función criptográfica llamada <strong>Keccak-f</strong>, que se encarga de permutar (cambiar de lugar o mezclar) los bits de la entrada de manera segura.</p><p>Después de haber ganado la competición para la versión 3 del <em>Secure Hash Algorithm</em>, y por lo tanto ser nombrada <strong>SHA-3</strong>, ha sido estandarizada en diferentes documentos para diferentes usos. La estandarización implica que ha sido examinada y analizada criptográficamente por organismos internacionales, empresas e individuales para estar seguros de que no tiene deficiencias como función hash criptográfica.</p><p>Un punto interesante es que uno de los diseñadores de esta función, también participó en la creación del actual AES: <a href=https://cs.ru.nl/~joan/>Joan Daemen</a>, probablmente es un investigador al que le debamos prestar más atención, ya que casi toda nuestra seguridad actual y futura está influida por él.</p><h2 id=qué-es-una-construcción-de-esponja>¿Qué es una construcción de esponja?</h2><p>La &ldquo;arquitectura&rdquo; interna de Keccak se distingue de otras funciones <em>hash criptográficas</em> por ser tener una <strong>construcción de esponja</strong>. SHA-1 y SHA-2 usan una construcción de <a href=https://www.coursera.org/lecture/crypto/the-merkle-damgard-paradigm-Hfnu9>Merkle–Damgård</a>.</p><p>¿Qué es una <strong>construcción de esponja</strong> y por qué nos importa como desarrolladores de software?</p><p>Una construcción de esponja usa una función de <em>permutación</em> (en el caso de Keccak esta función se llama <strong>keccak-f</strong>). Un función de permutación mapea todas las combinaciones posibles de bits en la entrada a todas las combinaciones posibles de esa misma cantidad de bits, intercambiándolas. Por ejemplo, imagina una función que acepta 3 bits y devuelve 4 bits, y que intercambia los bits de la siguiente manera:</p><pre tabindex=0><code class=language-center data-lang=center>000 --(f)--&gt; 010
001 --(f)--&gt; 100
010 --(f)--&gt; 001
011 --(f)--&gt; 111
100 --(f)--&gt; 000
101 --(f)--&gt; 110
110 --(f)--&gt; 101
111 --(f)--&gt; 011
</code></pre><p>Observa como ninguna de las combinaciones se repite en ninguno de los dos lados. <strong>keccak-f</strong> es una permutación de 1600 bits.</p><p>La construcción de esponja divide los bits de la salida en dos partes: <em>velocidad</em> y <em>capacidad</em>. Esta división arbitraria, en el caso de <strong>Keccak</strong> depende de la versión que se quiera usar. La parte de la <em>velocidad</em> define cuántas veces se tiene que aplicar la función, ya que mientras más grande sea, más rápido se conseguirá el tamaño deseado. La parte de la <em>capacidad</em> define qué tan segura es la función, mientras más grande sea, más segura es la construcción de esponja (y más pequeña es la parte de velocidad, por lo que la función hash tardará más).</p><p>Keccak empieza este ciclo con un estado inicial de puros ceros. La entrada se divide en bloques del tamaño de la velocidad (si es más pequeña que la velocidad, se <a href=https://crypto.stackexchange.com/questions/40511/padding-in-keccak-sha3-hashing-algorithm>aplica un padding</a>). Se aplica un XOR entre cada bloque y el primer bloque de la velocidad, y se le da como entrada a la función de permutación. Esto se hace <strong>tantas veces como bloques haya</strong>. Esta fue la etapa de absorción.</p><p>Finalmente, para obtener el hash, se &ldquo;exprime&rdquo; la función, siendo el primer bloque del resultado la parte de la <em>velocidad</em> de la última iteración y para obtener los siguientes bloques se aplica la función de permutación sucesivamente hasta obtener la cantidad de bytes requeridos. La siguiente imagen ilustra el proceso (con una permutación de 8 bits y una velocidad de 5 bits):</p><p><img src=https://res.cloudinary.com/hectorip/image/upload/v1666498363/Screen_Shot_2022-10-22_at_21.51.41_h0u7s0.png alt="Arquitectura interna de una función construcción de esponja">{: .align-center }
<em>Ejemplo de construcción de esponja con permutación de 5 bits. (Tomado del libro <a href=https://www.manning.com/books/real-world-cryptography>Real World Cryptography de David Wong</a>)</em></p><p>Ahora ya sabes cómo funciona a grandes rasgos <strong>Keccak</strong> internamente. <strong>¿Por qué nos interesa esto?</strong> Las funciones de esponja pueden ser configuradas para que absorban más o menos bits y por lo tanto son bastante flexibles, lo que permite crear funciones configurables y que pueden crear salidas de diferentes tamaños.</p><h2 id=tamaños-de-keccak>Tamaños de Keccak</h2><p>Keccak ofrece los mismos tamaños de salida que SHA-2. Existen las siguientes versiones:</p><ul><li><strong>SHA-3-224</strong>: 224 bits</li><li><strong>SHA-3-256</strong>: 256 bits</li><li><strong>SHA-3-384</strong>: 384 bits</li><li><strong>SHA-3-512</strong>: 512 bits</li></ul><p>Como siempre, mientras más grande sea la salida, más bits de seguridad ofrece y más difícil es de ser vulnerada.</p><h2 id=usando-keccak>Usando Keccak</h2><p>El siguiente ejemplo muestra cómo usar Keccak como SHA-3-256 en Python (SHA-3 está disponible desde la versión 3.6 de Python):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> hashlib <span style=color:#f92672>import</span> sha3_256
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>hash <span style=color:#f92672>=</span> sha3_256(<span style=color:#e6db74>b</span><span style=color:#e6db74>&#34;Hello world&#34;</span>)<span style=color:#f92672>.</span>hexdigest()
</span></span><span style=display:flex><span><span style=color:#75715e># resultado &#39;369183d3786773cef4e56c7b849e7ef5f742867510b676d6b38f8e38a222d8a2&#39;</span>
</span></span></code></pre></div><p>Aquí hay un ejemplo en Go:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#e6db74>&#34;golang.org/x/crypto/sha3&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span> <span style=color:#a6e22e>s</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;hello world&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> <span style=color:#75715e>// Un hash de 256 bits
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>sha3</span>.<span style=color:#a6e22e>New256</span>()
</span></span><span style=display:flex><span> <span style=color:#a6e22e>h</span>.<span style=color:#a6e22e>Write</span>([]byte(<span style=color:#a6e22e>s</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>bs</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>h</span>.<span style=color:#a6e22e>Sum</span>(<span style=color:#66d9ef>nil</span>) <span style=color:#75715e>// terminamos la cadena
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>s</span>) <span style=color:#75715e>// hello world
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%x\n&#34;</span>, <span style=color:#a6e22e>bs</span>) <span style=color:#75715e>// 369183d3786773cef4e56c7b849e7ef5f742867510b676d6b38f8e38a222d8a2
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p>Aquí hay una implementación de Java:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.security.MessageDigest;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.security.NoSuchAlgorithmException;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Main</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>    MessageDigest md;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>      md <span style=color:#f92672>=</span> MessageDigest.<span style=color:#a6e22e>getInstance</span>(<span style=color:#e6db74>&#34;SHA3-256&#34;</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> (NoSuchAlgorithmException e) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> IllegalArgumentException(e);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> result <span style=color:#f92672>=</span> md.<span style=color:#a6e22e>digest</span>(<span style=color:#e6db74>&#34;Hello world&#34;</span>.<span style=color:#a6e22e>getBytes</span>());
</span></span><span style=display:flex><span>    System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(Main.<span style=color:#a6e22e>bytesToHex</span>(result));
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>bytesToHex</span>(<span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> bytes) {
</span></span><span style=display:flex><span>    StringBuilder sb <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StringBuilder();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>byte</span> b : bytes) {
</span></span><span style=display:flex><span>      sb.<span style=color:#a6e22e>append</span>(String.<span style=color:#a6e22e>format</span>(<span style=color:#e6db74>&#34;%02x&#34;</span>, b));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> sb.<span style=color:#a6e22e>toString</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Además, aquí puedes ver ejemplos de cómo usar Keccak (SHA-3) en otros lenguajes:</p><ul><li><a href=https://www.npmjs.com/package/sha3>SHA-3 en JavaScript o TypeScript</a></li><li><a href=https://github.com/johanns/sha3>SHA-3 en Ruby</a></li><li><a href=https://www.erlang.org/doc/man/crypto.html#type-hash_algorithm>SHA-3 en Elixir, usando Erlang</a></li></ul><h2 id=por-qué-usar-keccak>¿Por qué usar Keccak?</h2><p>SHA-3 o Keccak es una función más fuerte, sin vulnerabilidades conocidas, estandarizada y lista para ser usada como reemplazo de SHA-2 en cualquier lado sin grandes cambios. No hay pretexto para no usarla si existe una buena implementación en tu lenguaje.</p></section></main><footer id=main-footer><div class=footer><a href=#>Scroll to Top</a><div class=footer-copyright><div class=dim>© 2025 Héctor Patricio</div><div>Made with ❤️ and powered by <a href=https://github.com/math-queiroz/rusty-typewriter target=_blank>Rusty Typewriter</a> theme for <a href=https://gohugo.io/ target=_blank>Hugo</a></div></div></div></footer></div><aside id=side-pane class=side-sticky><div class=side-details><span>969 words</span>
<span>6 - 8 minutes read</span></div><h3>Table Of Contents</h3><nav id=TableOfContents><ul><li><a href=#qué-es-keccak>¿Qué es Keccak?</a></li><li><a href=#qué-es-una-construcción-de-esponja>¿Qué es una construcción de esponja?</a></li><li><a href=#tamaños-de-keccak>Tamaños de Keccak</a></li><li><a href=#usando-keccak>Usando Keccak</a></li><li><a href=#por-qué-usar-keccak>¿Por qué usar Keccak?</a></li></ul></nav><h3>Related</h3><ul><li><a href=/2021/12/03/algoritmos-criptogr%C3%A1ficos-hashes-seguros-para-alamcenar-passwords/>Algoritmos criptográficos: hashes seguros para alamcenar passwords</a></li><li><a href=/2021/12/02/algoritmos-criptogr%C3%A1ficos-qu%C3%A9-es-un-hash/>Algoritmos criptográficos: ¿Qué es un Hash?</a></li></ul></aside></div></div></body></html>