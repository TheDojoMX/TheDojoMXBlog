<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="es" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Patrón de diseño: Cadena de responsabilidad - The Dojo MX Blog</title>
<meta name="description" content="Manejar múltiples handlers, conocidos y no conocidos.">


  <meta name="author" content="Esteban Galicia">
  
  <meta property="article:author" content="Esteban Galicia">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="es">
<meta property="og:site_name" content="The Dojo MX Blog">
<meta property="og:title" content="Patrón de diseño: Cadena de responsabilidad">
<meta property="og:url" content="https://blog.thedojo.mx/2019/02/21/cadena-responsabilidades.html">


  <meta property="og:description" content="Manejar múltiples handlers, conocidos y no conocidos.">



  <meta property="og:image" content="https://res.cloudinary.com/hectorip/image/upload/c_scale,w_800/v1550949447/mike-alonzo-3347-unsplash_cwqcud.jpg">





  <meta property="article:published_time" content="2019-02-21T00:00:00-06:00">






<link rel="canonical" href="https://blog.thedojo.mx/2019/02/21/cadena-responsabilidades.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://blog.thedojo.mx/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="The Dojo MX Blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    
<!-- favicon -->
<link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/images/favicons/site.webmanifest">
<link rel="mask-icon" href="/assets/images/favicons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/assets/images/favicons/favicon.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/images/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
<!-- end favicon -->
<!-- for mathjax support -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZNSYMJDY5S"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZNSYMJDY5S');
</script>

<!-- Hotjar Tracking Code for blog.thedojo.mx -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:1217463,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9860440966400421"
     crossorigin="anonymous"></script>

<script src="/assets/js/sharect.min.js"></script>
<!-- Fathom - beautiful, simple website analytics -->
   <script src="https://cdn.usefathom.com/script.js" data-site="NGGHUUZH" defer></script>
<!-- / Fathom -->
<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "url": "https://blog.thedojo.mx/2019/02/21/cadena-responsabilidades.html",
      "name": "Patrón de diseño: Cadena de responsabilidad",
      "headline": "Patrón de diseño: Cadena de responsabilidad",
      "keywords": "python,patrones,SOLID,Chain-of-Responsibility,design-patterns",
      "description": "Manejar múltiples handlers, conocidos y no conocidos.",
      "articleBody": "Propósito\n\n\n  Asegurar el bajo acoplamiento entre un request y su receiver dando a múltiples objetos oportunidad de manejar el request\n\n\nHace unas semanas me enfrenté a un tema de procesar un mensaje de un usuario y darle tratamiento por medio de un algoritmo de Natrual Language Processing. Antes de pasar el mensaje por el set de algoritmos apropiados hay que darle una serie de tratamientos previos:\n\n\n  Eliminar los acentos y solo dejar en ASCII el mensaje.\n  Pasar el mensaje a lowercase.\n\n\nA primera luz, un código que puede fácilmente satisfacer es:\n\n\nmessage = \"Dios bendiga a los héroes que nos dieron el internet.\"\nmessage = message.lower()\nmessage = message.replace(\"á\",\"a\").replace(\"é\",\"e\") \\\n    .replace(\"í\",\"i\").replace(\"ó\",\"o\").replace(\"ú\",\"u\")\nprint(message)\n# dios bendiga a los heroes que nos dieron el internet.\n\nFuncionó, se cumplió el objetivo.\n\nEl problema sobrevino en el momento que los algoritmos posteriores requieren más modificaciones en la cadena original.\nPoco a poco se fue agregando y agregando código para tareas como eliminar emojis, eliminar signos de puntuación, contraer palabras como hooooooola en hola y en el futuro no se sabe que más cosas habrá que hacer a la cadena original, pueden ser cosas tan diversas como “A cada cadena que se procese quiero que se quede un historial de la cadena original”, en ese momento hay que ir a reescribir código quebrantando el principio **open/closed** “software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification”.\n\nSolución\n\nEl patrón de diseño Chain of responsibility como premisa principal es que más de una entidad de software (clase y/o función) pueda atender una petición. Dichas entidades pueden ser conocidas y de hecho se acaban implementando, pero también pueden ser desconocidas y esas no las podemos implementar pero debemos ser capaces de implementarlas en un futuro.\n\nPero, si el código anterior es muy sencillo, no veo caso de hacerlo complejo; a medida que los requerimientos van cambiando en el tiempo es muy probable que ese código se acabe agrupando en una función y esa función no hará más que crecer y entre más lo haga perderá el foco y se convertirá en una función que hará de todo, no cumplirá con otro principio (single responsibility) una entidad debe hacer solo una cosa y hacerla bien, la función además de escribir en disco tiene que pasar la frase a minúsculas, reemplazar caracteres no ASCII con caracteres ASCII por mencionar algo. El partir una gran función (gran ~= muchas responsabilidades) en muchas más pequeñas facilita la escritura de test unitarios y propicia a la re usabilidad de esa función en distintas partes de nuestro proyecto principalmente.\n\nEn este patrón la petición (request) es mandada de entidad en entidad (cada entidad es un eslabón de la cadena o handler), cada entidad maneja la petición y la pasa al siguiente eslabón hasta que se terminen los eslabones de la cadena o uno de ellos decida que hay que regresar un valor.\n\n\n\nSiguiendo con el problema original, el código propuesto es el siguiente (aquí uno en Java):\n\ndef to_lower(message=\"\"):\n    if not isinstance(message,str):\n        raise ValueError(\"Message is not a string\")\n    return message.strip().lower()\n\ndef to_ascii(message):\n    if not isinstance(message,str):\n        raise ValueError(\"Message is not a string\")\n    message = message.replace(\"á\",\"a\").replace(\"é\",\"e\").replace(\"í\",\"i\").replace(\"ó\",\"o\").replace(\"ú\",\"u\")\n    return message\n\ndef to_disk(message):\n    FILENAME = \"historial.log\"\n    if not isinstance(message,str):\n        raise ValueError(\"Message is not a string\")\n    with open(FILENAME,\"a\",encoding=\"UTF-8\") as fp:\n        fp.write(f\"{message}\\n\")\n    return message\n\ndef remove_all_punctuation(message):\n    #all code to remove punctuation marks\n    return message\n\nclass Pipe:\n    def __init__(self,message):\n        self._message = message\n        self.processors = []\n\n    def add_process(self,process_function):\n        self.processors.append(process_function)\n\n    def run(self):\n        for process in self.processors:\n            self._message = process(self._message)\n        return self._message\n\npipe=Pipe(\"Dios bendiga a los héroes que nos dieron el internet.\")\npipe.add_process(to_disk)\npipe.add_process(to_lower)\npipe.add_process(to_ascii)\npipe.add_process(remove_all_punctuation)\nnew_message=pipe.run()\nprint(new_message)\n\n\n\nEl código anterior es un código más profesional, más fácil de mantener ya que cumplimos con el principio open/closed y de paso de responsabilidad única.\n\nPodemos ir agregando funciones de procesamiento de manera más legible, también podemos quitarlas a voluntad dado que el nivel de acoplamiento es muy bajo. A todo ésto hay que añadir la ventaja de facilidad al escribir test unitarios que dan pie para el CI/CD.\n\nSe puede pensar al inicio que es una sobre-ingeniería para algo tan sencillo, pero los negocios son tan cambiantes en el tiempo que se vuelve un poco ingenuo pensar que lo que escribamos nunca lo tendremos que modificar, ¿Por qué no diseñar software que pueda ser modificable en el ahora y el futuro?. Este tema de los patrones de diseño es un tema muy extenso que poco a poco iremos cubriendo con entradas en este blog dando ejemplos sencillos como el anterior.\n\nLo importante es quedarse con el concepto de qué es lo que hace el patrón y no con la implementación como tal del código, en Java el código anterior puede ser muy diferente, sin embargo cumple el patrón. Tuve conciencia de esto leyendo que en un principio, en los años dorados de C, este patrón se implementaba con listas enlazadas,a su vez implementadas con apuntadores.\n\nSaludos y no dudes en ejercer tu derecho de réplica :) , discutamos un poco al respecto :D.\n",
      "datePublished": "2019-02-21 00:00:00 -0600",
      "dateModified": "2019-02-21 00:00:00 -0600",
      "author": {
        "@type": "Person",
        "name": "Esteban Galicia",
        "givenName": "Esteban Galicia",
        "email": null
      },
      "publisher": {
        "@type": "Organization",
        "name": "The Dojo MX Blog",
        "url": "https://blog.thedojo.mx",
        "logo": {
          "@type": "ImageObject",
          "width": 32,
          "height": 32,
          "url": "https://blog.thedojo.mx/icon/favicon.ico"
        }
      },
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://blog.thedojo.mx/2019/02/21/cadena-responsabilidades.html"
      },
      "image": {
        "@type": "ImageObject",
        "width": 1200,
        "height": 400,
        "url": "https://res.cloudinary.com/hectorip/image/upload/c_scale,w_800/v1550949447/mike-alonzo-3347-unsplash_cwqcud.jpg"
      }
    }
</script>



  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Saltar a navegación principal</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Saltar a contenido</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Saltar a pie</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="https://res.cloudinary.com/hectorip/image/upload/v1554098427/TheDojo/the-dojo-transparent.png" alt="The Dojo MX Blog"></a>
        
        <a class="site-title" href="/">
          The Dojo MX Blog
          
        </a>
        <ul class="visible-links">
<li class="masthead__menu-item">
              <a href="/latest">Todos los posts</a>
            </li>
<li class="masthead__menu-item">
              <a href="/about">Acerca de</a>
            </li>
<li class="masthead__menu-item">
              <a href="https://thedojo.mx">Cursos</a>
            </li>
</ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Alternar búsqueda</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Alternar menú</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  







<div class="page__hero--overlay" style=" background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://res.cloudinary.com/hectorip/image/upload/c_scale,w_800/v1550949447/mike-alonzo-3347-unsplash_cwqcud.jpg');">
  
    <div class="wrapper">
      <h1 id="page-title" class="page__title" itemprop="headline">
        
          Patrón de diseño: Cadena de responsabilidad

        
      </h1>
      
        <p class="page__lead">Manejar múltiples handlers, conocidos y no conocidos.
</p>
      
      

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
        833 palabras | 6 minutos de lectura
        
      </span>
    
  </p>

      
      
    </div>
  
  
</div>







<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="https://res.cloudinary.com/hectorip/image/upload/v1539749539/44147293_251168868909676_2757599841344290816_n_1_zadepv.png" alt="Esteban Galicia" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Esteban Galicia</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Developer apasionado del conocimiento</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Seguir</button>
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Patrón de diseño: Cadena de responsabilidad">
    <meta itemprop="description" content="Manejar múltiples handlers, conocidos y no conocidos.">
    <meta itemprop="datePublished" content="2019-02-21T00:00:00-06:00">
    

    <div class="page__inner-wrap">
      

      <section class="page__content e-content" itemprop="text">
        
        <div style="border: 1px solid gray; border-radius: 4px; margin: 20px; padding: 5px;">
          Visita nuestro canal de YouTube para encontrar temas similares en video:<a href="https://youtube.com/thedojomx"> The Dojo MX en YouTube </a>

        </div>
        <h4 id="propósito">Propósito</h4>

<blockquote>
  <p>Asegurar el bajo acoplamiento entre un <em>request</em> y su <em>receiver</em> dando a múltiples objetos oportunidad de manejar el <em>request</em></p>
</blockquote>

<p>Hace unas semanas me enfrenté a un tema de procesar un mensaje de un usuario y darle tratamiento por medio de un algoritmo de Natrual Language Processing. Antes de pasar el mensaje por el set de algoritmos apropiados hay que darle una serie de tratamientos previos:</p>

<ol>
  <li>Eliminar los acentos y solo dejar en ASCII el mensaje.</li>
  <li>Pasar el mensaje a lowercase.</li>
</ol>

<p>A primera luz, un código que puede fácilmente satisfacer es:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">message</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Dios bendiga a los héroes que nos dieron el internet.</span><span class="sh">"</span>
<span class="n">message</span> <span class="o">=</span> <span class="n">message</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span>
<span class="n">message</span> <span class="o">=</span> <span class="n">message</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sh">"</span><span class="s">á</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">a</span><span class="sh">"</span><span class="p">).</span><span class="nf">replace</span><span class="p">(</span><span class="sh">"</span><span class="s">é</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">e</span><span class="sh">"</span><span class="p">)</span> \
    <span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sh">"</span><span class="s">í</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">i</span><span class="sh">"</span><span class="p">).</span><span class="nf">replace</span><span class="p">(</span><span class="sh">"</span><span class="s">ó</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">o</span><span class="sh">"</span><span class="p">).</span><span class="nf">replace</span><span class="p">(</span><span class="sh">"</span><span class="s">ú</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">u</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<span class="c1"># dios bendiga a los heroes que nos dieron el internet.
</span></code></pre></div></div>
<p>Funcionó, se cumplió el objetivo.</p>

<p>El problema sobrevino en el momento que los algoritmos posteriores requieren más modificaciones en la cadena original.
Poco a poco se fue agregando y agregando código para tareas como eliminar emojis, eliminar signos de puntuación, contraer palabras como <em>hooooooola</em> en <em>hola</em> y en el futuro no se sabe que más cosas habrá que hacer a la cadena original, pueden ser cosas tan diversas como “A cada cadena que se procese quiero que se quede un historial de la cadena original”, en ese momento hay que ir a reescribir código quebrantando el principio <a href="https://en.wikipedia.org/wiki/Open%E2%80%93closed_principle"><strong>**open/closed</strong>**</a> “<em>software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification</em>”.</p>

<h4 id="solución">Solución</h4>

<p>El patrón de diseño <em>Chain of responsibility</em> como premisa principal es que más de una entidad de software (clase y/o función) pueda atender una petición. Dichas entidades pueden ser conocidas y de hecho se acaban implementando, pero también pueden ser desconocidas y esas no las podemos implementar pero debemos ser capaces de implementarlas en un futuro.</p>

<p>Pero, si el código anterior es muy sencillo, no veo caso de hacerlo <em>complejo</em>; a medida que los requerimientos van cambiando en el tiempo es muy probable que ese código se acabe agrupando en una función y esa función no hará más que crecer y entre más lo haga perderá el foco y se convertirá en una función que hará de todo, no cumplirá con otro principio (<a href="https://refactoring.guru/images/patterns/content/chain-of-responsibility/chain-of-responsibility.png">single responsibility</a>) <em>una entidad debe hacer solo una cosa y hacerla bien</em>, la función además de escribir en disco tiene que pasar la frase a minúsculas, reemplazar caracteres no ASCII con caracteres ASCII por mencionar algo. El partir una gran función (gran ~= muchas responsabilidades) en muchas más pequeñas facilita la escritura de test unitarios y propicia a la re usabilidad de esa función en distintas partes de nuestro proyecto principalmente.</p>

<p>En este patrón la petición (<em>request</em>) es mandada de entidad en entidad (cada entidad es un eslabón de la cadena o <em>handler</em>), cada entidad maneja la petición y la pasa al siguiente eslabón hasta que se terminen los eslabones de la cadena o uno de ellos decida que hay que regresar un valor.</p>

<p><img src="/assets/images/chain-of-responsibility.jpg" alt="Representación gráfica"></p>

<p>Siguiendo con el problema original, el código propuesto es el siguiente <a href="https://www.tutorialspoint.com/design_pattern/chain_of_responsibility_pattern.htm">(aquí uno en Java)</a>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">to_lower</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="sh">""</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sh">"</span><span class="s">Message is not a string</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">message</span><span class="p">.</span><span class="nf">strip</span><span class="p">().</span><span class="nf">lower</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">to_ascii</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sh">"</span><span class="s">Message is not a string</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">message</span> <span class="o">=</span> <span class="n">message</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sh">"</span><span class="s">á</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">a</span><span class="sh">"</span><span class="p">).</span><span class="nf">replace</span><span class="p">(</span><span class="sh">"</span><span class="s">é</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">e</span><span class="sh">"</span><span class="p">).</span><span class="nf">replace</span><span class="p">(</span><span class="sh">"</span><span class="s">í</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">i</span><span class="sh">"</span><span class="p">).</span><span class="nf">replace</span><span class="p">(</span><span class="sh">"</span><span class="s">ó</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">o</span><span class="sh">"</span><span class="p">).</span><span class="nf">replace</span><span class="p">(</span><span class="sh">"</span><span class="s">ú</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">u</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">message</span>

<span class="k">def</span> <span class="nf">to_disk</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="n">FILENAME</span> <span class="o">=</span> <span class="sh">"</span><span class="s">historial.log</span><span class="sh">"</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sh">"</span><span class="s">Message is not a string</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">FILENAME</span><span class="p">,</span><span class="sh">"</span><span class="s">a</span><span class="sh">"</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">UTF-8</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
        <span class="n">fp</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">message</span>

<span class="k">def</span> <span class="nf">remove_all_punctuation</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="c1">#all code to remove punctuation marks
</span>    <span class="k">return</span> <span class="n">message</span>

<span class="k">class</span> <span class="nc">Pipe</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="n">message</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_message</span> <span class="o">=</span> <span class="n">message</span>
        <span class="n">self</span><span class="p">.</span><span class="n">processors</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">add_process</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="n">process_function</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">processors</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">process_function</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">process</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">processors</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_message</span> <span class="o">=</span> <span class="nf">process</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">_message</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">_message</span>

<span class="n">pipe</span><span class="o">=</span><span class="nc">Pipe</span><span class="p">(</span><span class="sh">"</span><span class="s">Dios bendiga a los héroes que nos dieron el internet.</span><span class="sh">"</span><span class="p">)</span>
<span class="n">pipe</span><span class="p">.</span><span class="nf">add_process</span><span class="p">(</span><span class="n">to_disk</span><span class="p">)</span>
<span class="n">pipe</span><span class="p">.</span><span class="nf">add_process</span><span class="p">(</span><span class="n">to_lower</span><span class="p">)</span>
<span class="n">pipe</span><span class="p">.</span><span class="nf">add_process</span><span class="p">(</span><span class="n">to_ascii</span><span class="p">)</span>
<span class="n">pipe</span><span class="p">.</span><span class="nf">add_process</span><span class="p">(</span><span class="n">remove_all_punctuation</span><span class="p">)</span>
<span class="n">new_message</span><span class="o">=</span><span class="n">pipe</span><span class="p">.</span><span class="nf">run</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">new_message</span><span class="p">)</span>

</code></pre></div></div>

<p>El código anterior es un código más profesional, más fácil de mantener ya que cumplimos con el principio <em>open/closed</em> y de paso de responsabilidad única.</p>

<p>Podemos ir agregando funciones de procesamiento de manera más legible, también podemos quitarlas a voluntad dado que el nivel de acoplamiento es muy bajo. A todo ésto hay que añadir la ventaja de facilidad al escribir test unitarios que dan pie para el CI/CD.</p>

<p>Se puede pensar al inicio que es una sobre-ingeniería para algo tan sencillo, pero los negocios son tan cambiantes en el tiempo que se vuelve un poco ingenuo pensar que lo que escribamos nunca lo tendremos que modificar, ¿Por qué no diseñar software que pueda ser modificable en el ahora y el futuro?. Este tema de los patrones de diseño es un tema muy extenso que poco a poco iremos cubriendo con entradas en este blog dando ejemplos sencillos como el anterior.</p>

<p>Lo importante es quedarse con el concepto de qué es lo que hace el patrón y no con la implementación como tal del código, en Java el código anterior puede ser muy diferente, sin embargo cumple el patrón. Tuve conciencia de esto leyendo que en un principio, en los años dorados de C, este patrón se implementaba con listas enlazadas,a su vez implementadas con apuntadores.</p>

<p>Saludos y no dudes en ejercer tu derecho de réplica :) , discutamos un poco al respecto :D.</p>

       <div style="border: 1px solid gray; border-radius: 4px; margin: 20px; padding: 5px;">
          Visita nuestro canal de YouTube para encontrar temas similares en video:<a href="https://youtube.com/thedojomx"> The Dojo MX en YouTube </a>
        </div>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Etiquetas: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#chain-of-responsibility" class="page__taxonomy-item" rel="tag">Chain-of-Responsibility</a><span class="sep">, </span>
    
      <a href="/tags/#design-patterns" class="page__taxonomy-item" rel="tag">design-patterns</a><span class="sep">, </span>
    
      <a href="/tags/#patrones" class="page__taxonomy-item" rel="tag">patrones</a><span class="sep">, </span>
    
      <a href="/tags/#python" class="page__taxonomy-item" rel="tag">python</a><span class="sep">, </span>
    
      <a href="/tags/#solid" class="page__taxonomy-item" rel="tag">SOLID</a>
    
    </span>
  </p>




        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Actualizado:</strong> <time datetime="2019-02-21T00:00:00-06:00">February 21, 2019</time></p>


      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Compartir</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Patr%C3%B3n+de+dise%C3%B1o%3A+Cadena+de+responsabilidad%20https%3A%2F%2Fblog.thedojo.mx%2F2019%2F02%2F21%2Fcadena-responsabilidades.html" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Compartir Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fblog.thedojo.mx%2F2019%2F02%2F21%2Fcadena-responsabilidades.html" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Compartir Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fblog.thedojo.mx%2F2019%2F02%2F21%2Fcadena-responsabilidades.html" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Compartir LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/2018/10/28/bienvenidos.html" class="pagination--pager" title="Bienvenidos al Blog de The Dojo MX
">Anterior</a>
    
    
      <a href="/2019/02/23/patrones-de-diseno-que-son-y-cuando-usarlos.html" class="pagination--pager" title="Patrones de diseño: qué son y cuándo usarlos
">Siguiente</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Comentar</h4>
      <section id="disqus_thread"></section>
    
</div>

    
  </article>

  
  
    <div class="page__related">
      <h2 class="page__related-title">Podrías ver también</h2>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://res.cloudinary.com/hectorip/image/upload/c_scale,w_400/v1747718313/mariola-grobelska-EJBwRJZMOCQ-unsplash_rugsm8.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2025/08/19/zig-un-lenguaje-que-quiere-reemplazar-al-poderoso-c.html" rel="permalink">Zig: un lenguaje que quiere reemplazar al poderoso C
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




6 minutos de lectura



| <i class="far fa-calendar" aria-hidden="true"></i> 19-08-2025
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Zig es un lenguaje prometedor que quiere reemplazar a C y competir con Rust por ser el nuevo lenguaje de sistemas. Hablemos de sus promesas y características.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://res.cloudinary.com/hectorip/image/upload/c_scale,w_440/v1739597131/ryan-klaus-Xa0BLOXVxrQ-unsplash_necdjp.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2025/05/16/que-son-los-agentes-inteligentes.html" rel="permalink">¿Qué son los agentes inteligentes?
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




7 minutos de lectura



| <i class="far fa-calendar" aria-hidden="true"></i> 16-05-2025
</p>
    
    <p class="archive__item-excerpt" itemprop="description">La palabra ‘agente’ anda por todos lados desde la salida de los LLM’s. Hablemos de lo que son y cómo te pueden ayudar a desarrollar sistemas más complejos.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://res.cloudinary.com/hectorip/image/upload/c_scale,w_440/v1740059354/ricardo-frantz-nEd9E9V8Qx0-unsplash_wnklhe.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2025/05/15/debes-leer-thinking-in-systems.html" rel="permalink">Debes leer ‘Thinking in Systems’
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




10 minutos de lectura



| <i class="far fa-calendar" aria-hidden="true"></i> 15-05-2025
</p>
    
    <p class="archive__item-excerpt" itemprop="description">El pensamiento de sistemas es una de las habilidades más importantes para los desarrolladores de software. Hablemos de un libro que te ayuda a cultivarlo.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://res.cloudinary.com/hectorip/image/upload/c_scale,w_400/v1742691554/chen-zy-ccr9dAWi0hw-unsplash_omykun.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2025/05/10/bases-de-datos-para-llm-s.html" rel="permalink">Bases de datos para LLM’s
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




13 minutos de lectura



| <i class="far fa-calendar" aria-hidden="true"></i> 10-05-2025
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Los LLM’s nos permiten crear softeware que no creíamos posible hasta hacer poco. Pero necesitan que les demos información de manera especial. ¿Qué tipo de ba...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap">
<form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Términos de búsqueda...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Términos de búsqueda...">
  </form>
  <div id="results" class="results"></div>
</div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        
<script>
    var sharect = new Sharect();
    sharect.config({
      twitter: true,
      twitterUsername: '@thedojomx',
      backgroundColor: '#4b0082',
      iconColor: '#fff'
    }).init();
</script>
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Seguir:</strong></li>
    

    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">© 2025 The Dojo MX Blog. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "https://blog.thedojo.mx/2019/02/21/cadena-responsabilidades.html";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/2019/02/21/cadena-responsabilidades"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://the-dojo-mx-blog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>


  





  </body>
</html>
