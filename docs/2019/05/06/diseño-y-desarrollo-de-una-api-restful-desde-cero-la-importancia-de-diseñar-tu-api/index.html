<!doctype html><html lang=es dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Diseño y desarrollo de una API RESTful desde cero - La importancia de diseñar tu API | The Dojo MX Blog</title>
<link rel=icon href=/favicon.svg sizes=any type=image/svg+xml><meta property="og:title" content="Diseño y desarrollo de una API RESTful desde cero - La importancia de diseñar tu API"><meta property="og:description" content="El primer artículo de la serie. ¿Por qué es importante diseñar de antemano tu API? Compararemos dos de los estilos más populares: SOAP vs REST"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.thedojo.mx/2019/05/06/dise%C3%B1o-y-desarrollo-de-una-api-restful-desde-cero-la-importancia-de-dise%C3%B1ar-tu-api/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-05-06T00:00:00+00:00"><meta property="article:modified_time" content="2019-05-06T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Diseño y desarrollo de una API RESTful desde cero - La importancia de diseñar tu API"><meta name=twitter:description content="El primer artículo de la serie. ¿Por qué es importante diseñar de antemano tu API? Compararemos dos de los estilos más populares: SOAP vs REST"><link rel=stylesheet href=/css/extended.min.771dff75f9f3290205d2bfcbeda2ed15a5984c0414d431dfec3423ae5e37bb90.css integrity="sha256-dx3/dfnzKQIF0r/L7aLtFaWYTAQU1DHf7DQjrl43u5A=" crossorigin=anonymous><link rel=stylesheet href=/css/root.min.0e732b812b9751962e01a7c4798a1211cd5f8ac8abec7f99793fe306989e459f.css integrity="sha256-DnMrgSuXUZYuAafEeYoSEc1fisir7H+ZeT/jBpieRZ8=" crossorigin=anonymous><link rel=stylesheet href=/css/bundle.min.59eb1a059f8cd558e64375ede3e68d3e9120ddb0c6bdbab555c247689cef59e1.css integrity="sha256-WesaBZ+M1VjmQ3Xt4+aNPpEg3bDGvbq1VcJHaJzvWeE=" crossorigin=anonymous><script src=/js/bundle.cc8ae9952dbfb731affafabdf26e5c60a6910047ff59ccdeaf1daebaa26c8830.js integrity="sha256-zIrplS2/tzGv+vq98m5cYKaRAEf/Wczerx2uuqJsiDA=" crossorigin=anonymous></script><script defer src=/js/search/flexsearch.compact.64594b125f7b78bdf4fa8316955922bbebb1cd6baef3f16654bfca20309f18f8.js integrity="sha256-ZFlLEl97eL30+oMWlVkiu+uxzWuu8/FmVL/KIDCfGPg="></script><script defer src=/js/search/search.1d980f84df11f3eb7c8c5f17f541d49a0611608df179dd74fa7f06225eb56ace.js integrity="sha256-HZgPhN8R8+t8jF8X9UHUmgYRYI3xed10+n8GIl61as4="></script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel=stylesheet></head><body class=notransition><div id=container><header id=main-header><div role=navigation aria-label=Main><div class=nav-left><a href=https://blog.thedojo.mx/ style=color:inherit>The Dojo MX Blog</a></div><div class=nav-right><div style=position:absolute;width:0;height:0><div id=nav-dropdown-menu class=hidden href=#><div class=nav-item><a aria-current=true class=ancestor href=/posts/>Posts</a></div><div class=nav-item><a>Acerca de</a></div></div></div><a id=nav-dropdown-button href=#><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 6H20M4 12H20M4 18H20" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a><div id=nav-menu><div class=nav-item><a aria-current=true class=ancestor href=/posts/>Posts</a></div><div class=nav-item><a>Acerca de</a></div></div><a id=theme-switcher href=#><svg class="light-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 3V4m0 16v1M4 12H3M6.31412 6.31412 5.5 5.5m12.1859.81412L18.5 5.5M6.31412 17.69 5.5 18.5001M17.6859 17.69 18.5 18.5001M21 12H20m-4 0c0 2.2091-1.7909 4-4 4-2.20914.0-4-1.7909-4-4 0-2.20914 1.79086-4 4-4 2.2091.0 4 1.79086 4 4z" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg><svg class="dark-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.32031 11.6835c0 4.9706 4.02944 9 8.99999 9 3.7872.0 7.028-2.3392 8.3565-5.6515C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834c-4.9706.0-8.99999-4.0294-8.99999-8.99998C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996 5.65605 4.66028 3.32031 7.89912 3.32031 11.6835z" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a></div></div></header><div class="flex grow"><div id=main-pane><main id=main-content><div class=single-header><ol class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=https://blog.thedojo.mx/><span itemprop=name>Home</span>
</a><meta itemprop=position content='1'></li><span>&nbsp»&nbsp</span><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=https://blog.thedojo.mx/posts/><span itemprop=name>Posts</span>
</a><meta itemprop=position content='2'></li><span>&nbsp»&nbsp</span></ol><h1>Diseño y desarrollo de una API RESTful desde cero - La importancia de diseñar tu API</h1><time class=dim datetime=2019-05-06T00:00:00+00:00>May 6, 2019</time><div class=term-container><div class=tag><a href=https://blog.thedojo.mx/tags/apis/>#apis</a></div><div class=tag><a href=https://blog.thedojo.mx/tags/rest/>#rest</a></div><div class=tag><a href=https://blog.thedojo.mx/tags/soap/>#soap</a></div></ol></div><section class=page-section><p>En este post explicaré <strong>los principios básicos de diseño de una API</strong>. Esta primera parte es bastante teórica, empezaremos con la práctica (no con la programación, sino con el diseño) en un post posterior.</p><p>Primero hablemos de la importancia del diseño o la arquitectura de la API. En la serie de posts hablaremos de API&rsquo;s para consumo web, a través de HTTP, ya que son las de mayor uso y popularidad.</p><h2 id=la-importancia-de-diseñar-tu-api>La importancia de diseñar tu API</h2><p>Aunque parezca una tarea aburrida, innecesaria o burocrática, elegir un estilo de diseño de API&rsquo;s te servirá de las siguientes maneras:</p><ol><li><strong>Mayor facilidad de desarrollo</strong>. Tener una forma de nombrar los endpoints (los links con los que los sistemas externos interactúan), una estrucutra de respuesta, un estándar de errores y otras cuestiones definidas de antemano te permitirá pasar directo al diseño e implementación de las funcionalidades cuando llegue el momento. Si escoges usar una estructura de diseño común y popular puede que incluso haya herramientas que te faciliten la tarea. Nuestra API estará preparada para ser mantenible y escalable.</li><li><strong>Familiariadad</strong>. Si sigues un patrón de diseño común, cuando otros desarrolladores usen tu API la entenderán más fácil y podrán comenzar a sacarle provecho más rápido.</li><li><strong>Menos documentación</strong>. Aprovechando lo anterior, puede que gran parte de la estructura y prácticas comunes del patrón que escogiste ya estén documentadas, por lo que normalmente tendrás que documentar sólamente las partes que son especeificas de tu API.</li></ol><p>El trabajo extra que pongas en diseñar tu API o por lo menos escoger un patrón de diseño común te ahorrará trabajo en el futuro, a tu equipo y a otros desarrolladores.</p><p>Dependiendo de la época y las necesidades han surgido varios estilos o patrones de diseño comunes. Aquí hablaremos de dos de los más usados a lo largo del tiempo y de los más populares.</p><h2 id=soap-simple-object-access-protocol>SOAP (Simple Object Access Protocol)</h2><p>Este es el estilo de servicios más usado en el mundo empresarial. En realidad es un protocolo que establece desde la manera de comunicación hasta el lenguaje usado para transferir datos, entre otras cosas.
Su nombre es un acrónimo que signfica <em>Simple Object Access Protocol (Protocolo simple de acceso a objetos)</em> y fue desarrollado por Microsoft inicialmente. El lenguaje que se usa para transferir datos es <a href=https://www.w3schools.com/xml/xml_whatis.asp>XML</a> y tiene varios estándares que definen cada aspecto de la comunicación, por lo que no se queda en sólo un estilo de diseño de API&rsquo;s. Su objetivo original era definir cómo acceder y usar servicios web.</p><p>Una de las partes más fuertes del protocolo es la manera en que establece un contrato con el cliente acerca de la forma de usar los serivicios que expone. El archivo <a href=https://www.w3.org/TR/2001/NOTE-wsdl-20010315>WSDL</a> contiene la descripción de los serivcios expuestos en un lenguaje exclusivamente creado para eso, el <em>Web Service Description Language</em>, que se vale de XML. En este archivo define los servicios que la API provee, mediante la definición de una colección de endpoints, mensajes y tipos de datos. Este documento permite automatizar la creación de clientes mediante código.</p><h3 id=ventajas-de-soap>Ventajas de SOAP</h3><ol><li><strong>Pensado para transacciones complejas</strong>. Una parte de SOAP está pensada para usarse con <strong>transacciones</strong>. Si lo que requieres es que tu API realice transacciones <a href=https://en.wikipedia.org/wiki/ACID_(computer_science)>ACID</a>, trabajar con SOAP te facilitará la vida.</li><li><strong>Establece cada parte de la comunicación</strong>. Esto puede ser una ventaja o una desventaja, pero si estás con una tecnología que lo permite y aprovecha, trabajar con SOAP puede ser rápido y sin dolor, ya que los estándares estarán implementados en la platafoma/lenguaje y las herramientas de programación pueden aprovecharse de los estándares para facilitarte la vida.</li><li><strong>Interfaz definida</strong>. Mediante el documento WSDL, SOAP permite la lectura de la interfaz (los endpoints), los tipos de datos y sus mensajes, así como las acciones que se pueden realizar de manera automatizada, lo que hace sencillo entender y consumir la API, incluso de manera automatizada mediante una herramienta que cree el cliente automáticamente o un paquete de tu lenguaje que te facilite la vida.</li></ol><h3 id=desventajas-de-soap>Desventajas de SOAP.</h3><ol><li><strong>XML</strong>. Parsear y procesar XML es en geneal más difícil y requiere más pasos que hacer con otros lenguajes de transmisión de datos usados con otros estilos de API&rsquo;s, pero esta deventaja sólo aplica si tu lenguaje y herramientas de desarrollo no soportan completamente los protocolos establecidos por SOAP. Así que la experiencia que tengas con SOAP depende en gran medida de las cosas implementadas por los lenguajes y herramientas en que programarás en el lenguaje (por ejmplo, los IDE&rsquo;s para C# y Java soportan recibir el WSDL para automatizar gran parte del proceso de crear un cliente)</li><li><strong>Velocidad</strong>. Al ser un protocolo más complejo, aumenta la cantidad de procesamiento y transferencia de datos requerido para funcionar, lo que lo hace más lento que otras alternativas. Además, no es fácilmente cacheable, por lo que cada respuesta tiene que ser única y por lo tanto requiere mayores recursos.</li></ol><h3 id=conclusión-acerca-de-soap>Conclusión acerca de SOAP</h3><p>Muchos desarrolladores, sobre todo con poca experiencia, se escandalizan cuando tienen que trabajar en un API SOAP, sobre todo las generaciones recientes, y sí es un problema cuando tus herramientas no hacen fácil trabajar con este tipo de API&rsquo;s (como con cualquier otro tipo de desarrollo, tecnología o protocolo). Sin embargo, sus características las hacen ideales para API&rsquo;s transaccionales, por lo que es conveniente escorger este tipo de API&rsquo;s en los casos adecuados. Además, puedes beneficiarte de su forma de establecer la interfaz de manera clara y estricta. <strong>Cada herramienta fue creada con un propósito y tiene sus usos adecuados.</strong></p><h2 id=apis-restful>API&rsquo;s RESTful</h2><p>Una API REST aprovecha el diseño de las peticiones HTTP para crear servicios web con interfaces intuitivas.
REST son las siglas de &ldquo;Representational State Transfer&rdquo; (Transferencia de Estado Representacional), que es un estilo de arquitectura de sistemas distribuidos (podemos pensar en la web como un sistema distribuido).
Este estilo establece 6 características que se deben de cumplir para que un sistema sea considerado RESTful:</p><ol><li>Arquitectura cliente-servidor. Existe un programa encargado de hacer peticiones (cliente) y uno encargado de responderlas (servidor).</li><li>Interfaz uniforme. Todos los clientes deberían acceder a la misma interfaz. Si el servidor cumple con la interfaz, puede haber un número ilimitado de clientes independientes que cambian sin dependencias entre ellos o con la implementación del servidor. <em>Esta es una de las razones principales por las que las API&rsquo;s REST son tan usadas actualmente.</em> Este punto lo trataremos más a profundidad en el siguiente artículo. Pero para cumplir esto mencionemos brevemente qué principios debe seguir esta interfaz para que cumpla con este propósito:</li></ol><ul><li><strong>Basada en <em>recursos</em></strong>. Las URL&rsquo;s de los endpoints hacen referencia a <em>recursos</em>, es decir, a elementos de datos que pueden ser representados como objetos con un tipo, datos asociados, relaciones con otros objetos y las operaciones que se pueden realizar sobre él.</li><li><strong>Manipulación de recursos mediante <em>representaciones</em></strong>. La API no devuelve nunca el recurso original al cliente que lo solicita o solicita una operación sobre él, sino que lo hace a través de alguna <em>representación</em> de este recurso. Una representación es un subconjunto de los datos de recurso transmitido en un lenguaje adecuado: HTML, XML, JSON, MessagePack, etc.</li><li><strong>Mensajes autodescriptivos</strong>. Cada mensaje tiene suficiente información en sí mismo para ser procesado.</li><li><strong>HATEOAS</strong>. Estas son las siglas de <strong>Hypermedia As The Engine Of Applicaton State</strong> (Hypermedia como el motor del estado de la aplicación). La palabra <a href=https://smartbear.com/learn/api-design/what-is-hypermedia/>hypermedia</a> se refiere a un formato de texto (o hypertexto) que contiene links hacia otros documentos, imágenes, video y audio. Es una forma de mostrar las relaciones que existen conceptualmente en una red de información, incluyendo formatos más allá del texto. Por lo tanto, este punto se refiere a que la API debería ser navegable con la información expuesta en cada respuesta, las relaciones con otros recursos, los links a otros documentos y achivos. <a href=https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven>El autor</a> de la deficinición de API&rsquo;s REST hace enfásis en que no está casada con ningúna forma de transporte o protocolo de comunicación, pero su implementación bien puede depender de que el protocolo de comunicación tenga las características básicas como el usar URI&rsquo;s para identificación. Todo el estado de la aplicación necesaria para funcionar será transmitido a partir de hypermedia. En el caso del HTTP, se usan las URL&rsquo;s con su cadena da consulta (query string), las cabeceras y los cuerpos de petición y respuesta para mantener este estado.</li></ul><ol start=3><li>Sistema sin estado. Las conexiones entre los sistemas (cliente y servidor) no deberían dependender de un estado creado o mantenido a través de peticiones anteiores. Todo lo necesario para generar una respuesta se encuentra en la petición actual.</li><li>Cacheable. Las respuestas pueden ser guardadas para ser contestadas más rápidamente por el mismo servidor o por un sistema intermedio.</li><li>Sistema en capas. El sistema puede estar construido por varias capas de servicio y esto debe ser transparente para los clientes (no tienen que modificar sus llamadas).</li><li>Código bajo demanda. El servidor debe ser capaz de envíar código a cliente para que sea ejecutado.</li></ol><h3 id=ventajas-de-rest>Ventajas de REST</h3><ol><li><strong>Flexibilidad</strong>. REST no define el lenguaje de transferencia de datos, el tipo de autenticación y otros detalles de la comunicación que se dejan a discreción de los implementadores. En la actualidad, la mayoría de las API&rsquo;s REST usan JSON como lenguaje de transeferencia, pero bien podrían usar XML o MessagePack, incluso un lenguaje propietario.</li><li><strong>Popularidad</strong>. La extensión de uso de API&rsquo;s RESTful ha hecho que proliferen herramientas para construirlas, probarlas y ponerlas en producción, por le que es muy sencillo desarrollarlas, aunque no deja de presentar retos.</li><li><strong>Escalabilidad</strong>. Esta es una de las razones por las que las API rest se han vuelto tan populares. Incrementar la cantidad de usuarios que se pueden atender con una API RESTful es más sencillo que son SOAP debido a la cacheabilidad y a que las conexiones sin estado permiten escalamiento horizontal (replicación de servidores) y por lo tanto los costos se abaratan. La mayoría de las API&rsquo;s grandes conocidas siguen este estilo.</li></ol><h3 id=desventajas-de-rest>Desventajas de REST</h3><ol><li><strong>Flexibilidad</strong>. La flexibilidad es un don y maldición. Cuando a las personas se les permite hacer lo que sea, harán hasta lo inimaginable, por lo que se pueden encontrar implementaciones horribles y sin una guía definida nuestra propia API puede quedar hecha un asco.</li><li><strong>Transacciones</strong>. REST no establece una manera de manejar operaciones transaccionales, por lo que la implementación queda completamente del lado del diseño. Hay que tener en cuenta el manejo del estado, replicación de servidores, consistencia y <a href=https://es.wikipedia.org/wiki/Condici%C3%B3n_de_carrera>condiciones de carrera</a>. Esto no hace sencillo trabajar con transacciones en API&rsquo;s REST.</li><li><strong>Seguridad</strong>. No estamos diciendo que REST sea más inseguro que SOAP, sino REST no establece los medios de protección de interacciones e información, por lo que queda completamente como decisión de los desarrolladores y arquitectos del sistema. Sin una implementación adecuada tu API quedará vulnerable.</li></ol><h2 id=otros-estilos>Otros estilos</h2><p>Han surgido nuevas maneras de consumir y diseñar API&rsquo;s como <a href=https://graphql.org/learn/>GraphQL</a> y <a href=https://grpc.io/>gRPC</a>, pero cada una merece su propio artículo.</p><h2 id=nuestra-api>Nuestra API</h2><p>Para crear nuestra API elegiremos el estilo RESTful, por su popularidad y porque lo que aprendamos tendrá aplicaciones útiles inmeditas y en el futuro.</p><p>En el camino aprenderemos:</p><ul><li>Cómo dieseñar una API RESTful</li><li>Buenas prácticas de transferencia de datos y de estado</li><li>Cómo comunicar errores</li><li>Crear una estructura de mensajes intuitiva</li><li>Versionamiento de nuestra API</li><li>Nombrado de los endpoints</li><li>Seguridad</li></ul><p>El ejercicio será el siguiente:</p><blockquote><p>Crear una API que permita crear listas de vocabularios. Un usuario se registra y puede crear tantos vocabularios como desee. Un vocabulario consiste de una lista de palabras ordenadas por tiempo de inserción y su definción, que puede ser tomada del diccionario (fija) o definida por el usuario. Además una palabra puede tener imágenes adjuntas.</p></blockquote><p>Esta aplicación nos permitirá poner en práctica y aprender de todos los puntos antes mencionados y otros. No te pierdas el siguiente artículo.</p></section></main><footer id=main-footer><div class=footer><a href=#>Scroll to Top</a><div class=footer-copyright><div class=dim>© 2025 Héctor Patricio</div><div>Made with ❤️ and powered by <a href=https://github.com/math-queiroz/rusty-typewriter target=_blank>Rusty Typewriter</a> theme for <a href=https://gohugo.io/ target=_blank>Hugo</a></div></div></div></footer></div><aside id=side-pane class=side-sticky><div class=side-details><span>1950 words</span>
<span>11 - 15 minutes read</span></div><h3>Table Of Contents</h3><nav id=TableOfContents><ul><li><a href=#la-importancia-de-diseñar-tu-api>La importancia de diseñar tu API</a></li><li><a href=#soap-simple-object-access-protocol>SOAP (Simple Object Access Protocol)</a><ul><li><a href=#ventajas-de-soap>Ventajas de SOAP</a></li><li><a href=#desventajas-de-soap>Desventajas de SOAP.</a></li><li><a href=#conclusión-acerca-de-soap>Conclusión acerca de SOAP</a></li></ul></li><li><a href=#apis-restful>API&rsquo;s RESTful</a><ul><li><a href=#ventajas-de-rest>Ventajas de REST</a></li><li><a href=#desventajas-de-rest>Desventajas de REST</a></li></ul></li><li><a href=#otros-estilos>Otros estilos</a></li><li><a href=#nuestra-api>Nuestra API</a></li></ul></nav></aside></div></div></body></html>