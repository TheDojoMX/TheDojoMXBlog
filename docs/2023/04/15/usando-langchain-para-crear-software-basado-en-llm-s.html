<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="es" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Usando LangChain ü¶ú para crear software basado en LLM‚Äôs - The Dojo MX Blog</title>
<meta name="description" content="Vamos a ver c√≥mo funciona LangChain, una herramienta que le puede dar o√≠dos, ojos y manos a tu modelo de lenguaje preferido.">


  <meta name="author" content="H√©ctor Patricio">
  
  <meta property="article:author" content="H√©ctor Patricio">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="es">
<meta property="og:site_name" content="The Dojo MX Blog">
<meta property="og:title" content="Usando LangChain ü¶ú para crear software basado en LLM‚Äôs">
<meta property="og:url" content="https://blog.thedojo.mx/2023/04/15/usando-langchain-para-crear-software-basado-en-llm-s.html">


  <meta property="og:description" content="Vamos a ver c√≥mo funciona LangChain, una herramienta que le puede dar o√≠dos, ojos y manos a tu modelo de lenguaje preferido.">



  <meta property="og:image" content="https://res.cloudinary.com/hectorip/image/upload/c_crop,g_face,h_550,w_1024/v1681538471/DALL_E_2023-04-14_23.53.02_-_a_green_parrot_in_a_cybernetic_setting_plotting_a_plan_to_conquer_the_universe_digital_illustration_detailed_cinematic_light_ff6lm8.png">





  <meta property="article:published_time" content="2023-04-15T00:00:00-06:00">






<link rel="canonical" href="https://blog.thedojo.mx/2023/04/15/usando-langchain-para-crear-software-basado-en-llm-s.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://blog.thedojo.mx/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="The Dojo MX Blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    
<!-- favicon -->
<link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/images/favicons/site.webmanifest">
<link rel="mask-icon" href="/assets/images/favicons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/assets/images/favicons/favicon.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/images/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
<!-- end favicon -->
<!-- for mathjax support -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZNSYMJDY5S"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZNSYMJDY5S');
</script>

<!-- Hotjar Tracking Code for blog.thedojo.mx -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:1217463,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

<script src="/assets/js/sharect.min.js"></script>

<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "url": "https://blog.thedojo.mx/2023/04/15/usando-langchain-para-crear-software-basado-en-llm-s.html",
      "name": "Usando LangChain ü¶ú para crear software basado en LLM's",
      "headline": "Usando LangChain ü¶ú para crear software basado en LLM's",
      "keywords": "langchain,llm,tutorial",
      "description": "Vamos a ver c√≥mo funciona LangChain, una herramienta que le puede dar o√≠dos, ojos y manos a tu modelo de lenguaje preferido.",
      "articleBody": "Los grandes modelos de lenguaje o LLM‚Äôs (Large Language Models) han sido noticia en este 2023. Es por eso que han surgido muchos proyectos y herramientas que permiten crear software basado en estas herramientas.\n\nEn este art√≠culo vamos a poner un peque√±o tutorial de una herramienta creada para hacer aplicaciones basadas en LLM‚Äôs: LangChain.\n\n¬øQu√© es LangChain?\n\nLas aplicaciones basadas en procesamiento de lenguaje natural, sea como una herramienta de comunicaci√≥n o como su producto principal, normalmente requieren fuentes de informaci√≥n para potenciar sus capacidades.\n\nTambi√©n es una muy buena idea que estas aplicaciones puedan actuar por s√≠ mismas usando las instrucciones creadas por un LLM. Para hacer esto podemos usar agentes.\n\nLangChain provee componentes que te permiten lograr estas dos tareas, para que t√∫ los uses como quieras, pero tambi√©n te provee\nde cadenas de componentes (composici√≥n de software, ¬øte suena?) con casos de uso comunes, digamos que prefabricados, para hacer software basado en LLM‚Äôs de manera m√°s r√°pida.\n\nHablemos de qu√© componentes te provee LangChain para empezar a construir tus programas basados en LLM‚Äôs.\n\nComponentes principales\n\nLangChain provee varios tipos de componentes, muchos de los cuales son abstracciones de los conceptos m√°s usados en la interacci√≥n con LLM‚Äôs, veamos algunos de ellos:\n\n\n  \n    Texto. La abstracci√≥n m√°s b√°sica es la que representa un texto cualquiera que le mandamos a un LLM. Este texto puede provenir de diferentes fuentes, como archivos, por ejemplo.\n  \n  \n    Divisores de texto. Generalmente, un modelo de lenguaje no puede consumir mucho texto al mismo tiempo, por lo que para poder procesar textos grandes hay que mand√°rselos por partes. Este componente se encarga de ayudarte a dividir el texto en partes que el LLM pueda procesar.\n  \n  \n    √çndices. Es una abstracci√≥n que presenta el texto de mejor manera para que un LLM pueda acceder a la informaci√≥n mejor. Los √≠ndices se tienen que guardar de alguna manera y LangChain provee una interfaz para guardarlos en una base de datos especializada.\n  \n  \n    Modelo. Esto es la interfaz con un modelo de lenguaje. Te lo puedes imaginar como el equivalente a un conector a base de datos, abstraen los detalles de la conexi√≥n y te dan una interfaz com√∫n.\n  \n  \n    Agente. Un agente puede recibir instrucciones en forma de alguna abstracci√≥n de texto, para ejecutar acciones en sistemas externos o consultando para consultar al LLM.\n  \n  \n    Cadena. Las cadenas son conjuntos de componentes que sirven para resolver problemas comunes o crear aplicaciones completas.\n  \n\n\nYa que entendemos las cosas que LangChain nos da, veamos c√≥mo usarlas.\n\nCreando una aplicaci√≥n de ejemplo\n\nVamos a crear una aplicaci√≥n que nos permita consultar todos los posts de este blog y contestar preguntas. Por suerte, existe una cadena que ya nos permite hacer esto.\n\nInstalaci√≥n\n\nPrimero veamos los requisitos: adem√°s de LangChain, necesitas los siguientes paquetes:\n\n\n  openai\n  chromadb\n  tiktoken\n\n\nPor lo que tu requirements.txt deber√≠a verse as√≠:\n\nlangchain\nopenai\nchromadb\ntiktoken\n\n\nAqu√≠, recomiendo usar un entorno virtual con Anaconda, sobre todo si tienes planes de seguir trabajando con cosas relacionadas con\nprocesamiento de datos.\n\nPara hacer la creaci√≥n e instalaci√≥n puedes correr los siguientes comandos si tienes conda:\n\n\nconda create -n entorno_langchain pip\nconda activate entorno_langchain\npip install requeriments.txt\n\n\n\nAqu√≠ entorno_langchain es el nombre de nuestro entorno virtual y puede ser cualquiera que t√∫ quieras.\nTambi√©n, para empezar, necesito una fuente de datos para empezar a probar, por lo que voy a copiar algunos posts de este blog, que est√°n en formato markdown y pueden ser consumidas sin ning√∫n programa adicional. Voy a crear una carpeta llamada docs y dentro copiar√© los archivos markdown de este blog, que est√°n en _posts. T√∫ puedes poner ah√≠ los diferentes archivos que quieras consultar, tal vez directamente en docs.\n\nMi estructura de archivos se ve as√≠ (mi carpeta de trabajo es thedojo_agent):\n\n\nthedojo_agent\n‚îú‚îÄ‚îÄ docs\n‚îÇ   ‚îú‚îÄ‚îÄ _posts\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 2018-10-28-bienvenidos.md\n... muchos archivos m√°s\n‚îú‚îÄ‚îÄ requeriments.txt\n\n\nTeniendo esto listo podemos seguir el ejemplo b√°sico del tutorial de LangChain.\n\nCreando un script m√≠nimo que funciona\n\nDentro de un archivo que se llame main.py vamos a escribir el siguiente c√≥digo:\n\n\nfrom langchain.document_loaders import TextLoader\nfrom langchain.indexes import VectorstoreIndexCreator\n\nloader = TextLoader(\"./docs/_posts/2023-04-07-cuando-separar-el-codigo.md\")\nindex = VectorstoreIndexCreator().from_loaders([loader])\n\n\nquery = \"¬øCu√°ndo separar el c√≥digo?\"\nprint(index.query(query))\n\nquery = \"¬øQu√© es un m√≥dulo?\"\nprint(index.query_with_sources(query))\n\n\n\nPrimero importamos el componente TextLoader que nos permitir√° cargar texto de un archivo y el componente VectorstoreIndexCreator que nos permitir√° crear un √≠ndice y almacenarlo como un vector.\n\nYa nos estamos empezando a meter en cosas que no son tan conocidas. Vamos a explicarlas. Un √≠ndice es parecido a lo que se hace en las bases de datos, se analiza la informaci√≥n del texto para guardarle de manera organizada, para que cuando necesitemos encontrar algo, sea f√°cil de encontrar. Por ejemplo, podr√≠a estar organizado por palabras clave y con las referencias a donde se puede encontrar en los textos.\n\nQue se guarde como un vector tiene que ver con la forma en que trabajan los modelos de lenguaje. Lo que en realidad ve un modelo es una lista de tokens, que son n√∫meros que representan el texto. Cuando un modelo te da una respuesta, te da una lista de tokens junto con la probabilidad de que cada token vaya en ese orden. Esto son los ‚Äúembeddings‚Äù, y a final de cuenta son colecciones de n√∫meros, como listas, lo que se conoce como vectores en este mundo del procesamiento de datos.\n\nAs√≠ que primero generamos un √≠ndice, que consiste en un conjunto de vectores y despu√©s lo guardamos.\n\nEso es justo lo que hacen las dos l√≠neas que siguen al import.\n\nloader = TextLoader(\"./docs/_posts/2023-04-07-cuando-separar-el-codigo.md\")\nindex = VectorstoreIndexCreator().from_loaders([loader])\n\n\nDespu√©s de esto, ahora consultamos el texto de dos formas:\n\n\n  Primero que nos de la respuesta solita.\n  Que nos de la respuestas junto con la fuente de donde la sac√≥.\n\n\nEste ejemplo b√°sico ya empieza a hacer por nosotros lo que quer√≠amos en un principio: consultar un texto y obtener una respuesta.\n\nVamos a ir un poco m√°s hondo en el c√≥digo.\n\n¬øQu√© hace VectorstoreIndexCreator?\n\nLa parte que m√°s magia esconde es el objeto VectorstoreIndexCreator. Este objeto es una composici√≥n de otros que cumplen estos roles:\n\n\n  Un ‚Äúcortador‚Äù de texto, que ayuda a procesar el texto de la fuente.\n  Un modelo de lenguaje para generar los embeddings.\n  Un almac√©n de datos, en nuestro caso, un Vectorstore, o una base de datos que almacene vectores.\n\n\nEl objeto ya hace por nosotros todo el trabajo, el flujo de informaci√≥n, desde la fuente, que en el ejemplo es un texto cargado desde un conjunto de archivos, hasta el almac√©n de datos, que en el ejemplo es ChromaDB, que es una base de datos que almacena vectores.\n\nChromaDB puede correr en memoria o como servidor, pero aqu√≠ corre como base de datos en memoria, usando por debajo DuckDB, una base de datos completamente en memoria, as√≠ que cuando salgas del programa, se borra todo.\n\nVamos a dejar para un art√≠culo futuro la creaci√≥n de un √≠ndice, explicando sus par√°metros.\n\nSi quieres ver un ejmplo funcionando, Alex y yo hicimos un ejemplo y platicamos m√°s de esto en este directo:\n\n\n\n\n\n¬°Esperamos tus comentarios!\n",
      "datePublished": "2023-04-15 00:00:00 -0600",
      "dateModified": "2023-04-15 00:00:00 -0600",
      "author": {
        "@type": "Person",
        "name": "H√©ctor Patricio",
        "givenName": "H√©ctor Patricio",
        "email": null
      },
      "publisher": {
        "@type": "Organization",
        "name": "The Dojo MX Blog",
        "url": "https://blog.thedojo.mx",
        "logo": {
          "@type": "ImageObject",
          "width": 32,
          "height": 32,
          "url": "https://blog.thedojo.mx/icon/favicon.ico"
        }
      },
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://blog.thedojo.mx/2023/04/15/usando-langchain-para-crear-software-basado-en-llm-s.html"
      },
      "image": {
        "@type": "ImageObject",
        "width": 1200,
        "height": 400,
        "url": "https://res.cloudinary.com/hectorip/image/upload/c_crop,g_face,h_550,w_1024/v1681538471/DALL_E_2023-04-14_23.53.02_-_a_green_parrot_in_a_cybernetic_setting_plotting_a_plan_to_conquer_the_universe_digital_illustration_detailed_cinematic_light_ff6lm8.png"
      }
    }
</script>



  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="https://res.cloudinary.com/hectorip/image/upload/v1554098427/TheDojo/the-dojo-transparent.png" alt="The Dojo MX Blog"></a>
        
        <a class="site-title" href="/">
          The Dojo MX Blog
          
        </a>
        <ul class="visible-links">
<li class="masthead__menu-item">
              <a href="/latest">Todos los posts</a>
            </li>
<li class="masthead__menu-item">
              <a href="/about">Acerca de</a>
            </li>
<li class="masthead__menu-item">
              <a href="https://thedojo.mx">Cursos</a>
            </li>
</ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  







<div class="page__hero--overlay" style=" background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://res.cloudinary.com/hectorip/image/upload/c_crop,g_face,h_550,w_1024/v1681538471/DALL_E_2023-04-14_23.53.02_-_a_green_parrot_in_a_cybernetic_setting_plotting_a_plan_to_conquer_the_universe_digital_illustration_detailed_cinematic_light_ff6lm8.png');">
  
    <div class="wrapper">
      <h1 id="page-title" class="page__title" itemprop="headline">
        
          Usando LangChain ü¶ú para crear software basado en LLM‚Äôs

        
      </h1>
      
        <p class="page__lead">Vamos a ver c√≥mo funciona LangChain, una herramienta que le puede dar o√≠dos, ojos y manos a tu modelo de lenguaje preferido.
</p>
      
      

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
        1171 palabras | 9 minutos de lectura
        
      </span>
    
  </p>

      
      
    </div>
  
  
</div>







<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/me.jpg" alt="H√©ctor Patricio" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">H√©ctor Patricio</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Tech Leader en Automata</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Seguir</button>
    <ul class="author__urls social-icons">
      

      

      
        <li>
          <a href="https://github.com/hectorip" itemprop="url">
            <i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Sitio web</span>
          </a>
        </li>
      

      
        <li>
          <a href="mailto:hectorivanpatriciomoreno@gmail.com">
            <meta itemprop="email" content="hectorivanpatriciomoreno@gmail.com">
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span>
          </a>
        </li>
      

      

      
        <li>
          <a href="https://twitter.com/hectorip" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span>
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Usando LangChain ü¶ú para crear software basado en LLM‚Äôs">
    <meta itemprop="description" content="Vamos a ver c√≥mo funciona LangChain, una herramienta que le puede dar o√≠dos, ojos y manos a tu modelo de lenguaje preferido.">
    <meta itemprop="datePublished" content="2023-04-15T00:00:00-06:00">
    

    <div class="page__inner-wrap">
      

      <section class="page__content e-content" itemprop="text">
        
        <div style="border: 1px solid gray; border-radius: 4px; margin: 20px; padding: 5px;">
          Visita nuestro canal de YouTube para encontrar temas similares en video:<a href="https://youtube.com/thedojomx"> The Dojo MX en YouTube </a>

        </div>
        <p>Los grandes modelos de lenguaje o LLM‚Äôs (Large Language Models) han sido noticia en este 2023. Es por eso que han surgido muchos proyectos y herramientas que permiten crear software basado en estas herramientas.</p>

<p>En este art√≠culo vamos a poner un peque√±o tutorial de una herramienta creada para hacer aplicaciones basadas en LLM‚Äôs: <a href="https://python.langchain.com/en/latest/index.html">LangChain</a>.</p>

<h2 id="qu√©-es-langchain">¬øQu√© es LangChain?</h2>

<p>Las aplicaciones basadas en procesamiento de lenguaje natural, sea como una herramienta de comunicaci√≥n o como su producto principal, normalmente requieren fuentes de informaci√≥n para potenciar sus capacidades.</p>

<p>Tambi√©n es una muy buena idea que estas aplicaciones puedan actuar por s√≠ mismas usando las instrucciones creadas por un LLM. Para hacer esto podemos usar <strong>agentes</strong>.</p>

<p><strong>LangChain</strong> provee componentes que te permiten lograr estas dos tareas, para que t√∫ los uses como quieras, pero tambi√©n te provee
de cadenas de componentes (<em><a href="/">composici√≥n</a> de software, ¬øte suena?</em>) con casos de uso comunes, digamos que prefabricados, para hacer software basado en LLM‚Äôs de manera m√°s r√°pida.</p>

<p>Hablemos de qu√© componentes te provee LangChain para empezar a construir tus programas basados en LLM‚Äôs.</p>

<h2 id="componentes-principales">Componentes principales</h2>

<p>LangChain provee varios tipos de componentes, muchos de los cuales son abstracciones de los conceptos m√°s usados en la interacci√≥n con LLM‚Äôs, veamos algunos de ellos:</p>

<ul>
  <li>
    <p><strong>Texto</strong>. La abstracci√≥n m√°s b√°sica es la que representa un texto cualquiera que le mandamos a un LLM. Este texto puede provenir de diferentes fuentes, como archivos, por ejemplo.</p>
  </li>
  <li>
    <p><strong>Divisores de texto</strong>. Generalmente, un modelo de lenguaje no puede consumir mucho texto al mismo tiempo, por lo que para poder procesar textos grandes hay que mand√°rselos por partes. Este componente se encarga de ayudarte a dividir el texto en partes que el LLM pueda procesar.</p>
  </li>
  <li>
    <p><strong>√çndices</strong>. Es una abstracci√≥n que presenta el texto de mejor manera para que un LLM pueda acceder a la informaci√≥n mejor. Los √≠ndices se tienen que guardar de alguna manera y LangChain provee una interfaz para guardarlos en una base de datos especializada.</p>
  </li>
  <li>
    <p><strong>Modelo</strong>. Esto es la interfaz con un modelo de lenguaje. Te lo puedes imaginar como el equivalente a un conector a base de datos, abstraen los detalles de la conexi√≥n y te dan una interfaz com√∫n.</p>
  </li>
  <li>
    <p><strong>Agente</strong>. Un agente puede recibir instrucciones en forma de alguna abstracci√≥n de texto, para ejecutar acciones en <em>sistemas externos</em> o consultando para consultar al LLM.</p>
  </li>
  <li>
    <p><strong>Cadena</strong>. Las cadenas son conjuntos de componentes que sirven para resolver problemas comunes o crear aplicaciones completas.</p>
  </li>
</ul>

<p>Ya que entendemos las cosas que LangChain nos da, veamos c√≥mo usarlas.</p>

<h2 id="creando-una-aplicaci√≥n-de-ejemplo">Creando una aplicaci√≥n de ejemplo</h2>

<p>Vamos a crear una aplicaci√≥n que nos permita consultar todos los posts de este blog y contestar preguntas. Por suerte, existe una cadena que ya nos permite hacer esto.</p>

<h3 id="instalaci√≥n">Instalaci√≥n</h3>

<p>Primero veamos los requisitos: adem√°s de LangChain, necesitas los siguientes paquetes:</p>

<ul>
  <li>openai</li>
  <li>chromadb</li>
  <li>tiktoken</li>
</ul>

<p>Por lo que tu requirements.txt deber√≠a verse as√≠:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>langchain
openai
chromadb
tiktoken
</code></pre></div></div>

<p>Aqu√≠, recomiendo usar un entorno virtual con <a href="https://www.anaconda.com/products/distribution">Anaconda</a>, sobre todo si tienes planes de seguir trabajando con cosas relacionadas con
procesamiento de datos.</p>

<p>Para hacer la creaci√≥n e instalaci√≥n puedes correr los siguientes comandos si tienes <code class="language-plaintext highlighter-rouge">conda</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
conda create <span class="nt">-n</span> entorno_langchain pip
conda activate entorno_langchain
pip <span class="nb">install </span>requeriments.txt

</code></pre></div></div>

<p>Aqu√≠ <code class="language-plaintext highlighter-rouge">entorno_langchain</code> es el nombre de nuestro entorno virtual y puede ser cualquiera que t√∫ quieras.
Tambi√©n, para empezar, necesito una fuente de datos para empezar a probar, por lo que voy a copiar algunos posts de este blog, que est√°n en formato markdown y pueden ser consumidas sin ning√∫n programa adicional. Voy a crear una carpeta llamada docs y dentro copiar√© los archivos markdown de este blog, que est√°n en _posts. T√∫ puedes poner ah√≠ los diferentes archivos que quieras consultar, tal vez directamente en docs.</p>

<p>Mi estructura de archivos se ve as√≠ (mi carpeta de trabajo es <code class="language-plaintext highlighter-rouge">thedojo_agent</code>):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
thedojo_agent
‚îú‚îÄ‚îÄ docs
‚îÇ   ‚îú‚îÄ‚îÄ _posts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 2018-10-28-bienvenidos.md
... muchos archivos m√°s
‚îú‚îÄ‚îÄ requeriments.txt
</code></pre></div></div>

<p>Teniendo esto listo podemos seguir el ejemplo b√°sico del tutorial de LangChain.</p>

<h2 id="creando-un-script-m√≠nimo-que-funciona">Creando un script m√≠nimo que funciona</h2>

<p>Dentro de un archivo que se llame <code class="language-plaintext highlighter-rouge">main.py</code> vamos a escribir el siguiente c√≥digo:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">from</span> <span class="nn">langchain.document_loaders</span> <span class="kn">import</span> <span class="n">TextLoader</span>
<span class="kn">from</span> <span class="nn">langchain.indexes</span> <span class="kn">import</span> <span class="n">VectorstoreIndexCreator</span>

<span class="n">loader</span> <span class="o">=</span> <span class="n">TextLoader</span><span class="p">(</span><span class="s">"./docs/_posts/2023-04-07-cuando-separar-el-codigo.md"</span><span class="p">)</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">VectorstoreIndexCreator</span><span class="p">().</span><span class="n">from_loaders</span><span class="p">([</span><span class="n">loader</span><span class="p">])</span>


<span class="n">query</span> <span class="o">=</span> <span class="s">"¬øCu√°ndo separar el c√≥digo?"</span>
<span class="k">print</span><span class="p">(</span><span class="n">index</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="n">query</span><span class="p">))</span>

<span class="n">query</span> <span class="o">=</span> <span class="s">"¬øQu√© es un m√≥dulo?"</span>
<span class="k">print</span><span class="p">(</span><span class="n">index</span><span class="p">.</span><span class="n">query_with_sources</span><span class="p">(</span><span class="n">query</span><span class="p">))</span>

</code></pre></div></div>

<p>Primero importamos el componente <code class="language-plaintext highlighter-rouge">TextLoader</code> que nos permitir√° cargar texto de un archivo y el componente <code class="language-plaintext highlighter-rouge">VectorstoreIndexCreator</code> que nos permitir√° crear un √≠ndice y almacenarlo como un vector.</p>

<p>Ya nos estamos empezando a meter en cosas que no son tan conocidas. Vamos a explicarlas. Un √≠ndice es parecido a lo que se hace en las bases de datos, se analiza la informaci√≥n del texto para guardarle de manera organizada, para que cuando necesitemos encontrar algo, sea f√°cil de encontrar. Por ejemplo, podr√≠a estar organizado por palabras clave y con las referencias a donde se puede encontrar en los textos.</p>

<p>Que se guarde como un vector tiene que ver con la forma en que trabajan los modelos de lenguaje. Lo que en realidad ve un modelo es una lista de tokens, que son n√∫meros que representan el texto. Cuando un modelo te da una respuesta, te da una lista de tokens junto con la probabilidad de que cada token vaya en ese orden. Esto son los ‚Äúembeddings‚Äù, y a final de cuenta son colecciones de n√∫meros, como listas, lo que se conoce como vectores en este mundo del procesamiento de datos.</p>

<p>As√≠ que primero generamos un √≠ndice, que consiste en un conjunto de vectores y despu√©s lo guardamos.</p>

<p>Eso es justo lo que hacen las dos l√≠neas que siguen al import.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">loader</span> <span class="o">=</span> <span class="n">TextLoader</span><span class="p">(</span><span class="s">"./docs/_posts/2023-04-07-cuando-separar-el-codigo.md"</span><span class="p">)</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">VectorstoreIndexCreator</span><span class="p">().</span><span class="n">from_loaders</span><span class="p">([</span><span class="n">loader</span><span class="p">])</span>
</code></pre></div></div>

<p>Despu√©s de esto, ahora consultamos el texto de dos formas:</p>

<ol>
  <li>Primero que nos de la respuesta solita.</li>
  <li>Que nos de la respuestas junto con la fuente de donde la sac√≥.</li>
</ol>

<p>Este ejemplo b√°sico ya empieza a hacer por nosotros lo que quer√≠amos en un principio: consultar un texto y obtener una respuesta.</p>

<p>Vamos a ir un poco m√°s hondo en el c√≥digo.</p>

<h3 id="qu√©-hace-vectorstoreindexcreator">¬øQu√© hace VectorstoreIndexCreator?</h3>

<p>La parte que m√°s magia esconde es el objeto <code class="language-plaintext highlighter-rouge">VectorstoreIndexCreator</code>. Este objeto es una composici√≥n de otros que cumplen estos roles:</p>

<ol>
  <li>Un ‚Äúcortador‚Äù de texto, que ayuda a procesar el texto de la fuente.</li>
  <li>Un modelo de lenguaje para generar los embeddings.</li>
  <li>Un almac√©n de datos, en nuestro caso, un <code class="language-plaintext highlighter-rouge">Vectorstore</code>, o una base de datos que almacene vectores.</li>
</ol>

<p>El objeto ya hace por nosotros todo el trabajo, el flujo de informaci√≥n, desde la fuente, que en el ejemplo es un texto cargado desde un conjunto de archivos, hasta el almac√©n de datos, que en el ejemplo es ChromaDB, que es una base de datos que almacena vectores.</p>

<p>ChromaDB puede correr en memoria o como servidor, pero aqu√≠ corre como base de datos en memoria, usando por debajo DuckDB, una base de datos completamente en memoria, as√≠ que cuando salgas del programa, se borra todo.</p>

<p>Vamos a dejar para un art√≠culo futuro la creaci√≥n de un √≠ndice, explicando sus par√°metros.</p>

<p>Si quieres ver un ejmplo funcionando, Alex y yo hicimos un ejemplo y platicamos m√°s de esto en este directo:</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/IamEow08Zas" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>

<hr>

<p>¬°Esperamos tus comentarios!</p>

       <div style="border: 1px solid gray; border-radius: 4px; margin: 20px; padding: 5px;">
          Visita nuestro canal de YouTube para encontrar temas similares en video:<a href="https://youtube.com/thedojomx"> The Dojo MX en YouTube </a>
        </div>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Etiquetas: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#langchain" class="page__taxonomy-item" rel="tag">langchain</a><span class="sep">, </span>
    
      <a href="/tags/#llm" class="page__taxonomy-item" rel="tag">llm</a><span class="sep">, </span>
    
      <a href="/tags/#tutorial" class="page__taxonomy-item" rel="tag">tutorial</a>
    
    </span>
  </p>




        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Actualizado:</strong> <time datetime="2023-04-15T00:00:00-06:00">April 15, 2023</time></p>


      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Compartir</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Usando+LangChain+%F0%9F%A6%9C+para+crear+software+basado+en+LLM%27s%20https%3A%2F%2Fblog.thedojo.mx%2F2023%2F04%2F15%2Fusando-langchain-para-crear-software-basado-en-llm-s.html" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Compartir Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fblog.thedojo.mx%2F2023%2F04%2F15%2Fusando-langchain-para-crear-software-basado-en-llm-s.html" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Compartir Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fblog.thedojo.mx%2F2023%2F04%2F15%2Fusando-langchain-para-crear-software-basado-en-llm-s.html" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Compartir LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/2023/04/07/cuando-separar-el-codigo.html" class="pagination--pager" title="Cuando separar el c√≥digo
">Anterior</a>
    
    
      <a href="/2023/04/17/composicion-en-el-software.html" class="pagination--pager" title="Composici√≥n en el software
">Siguiente</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h2 class="page__related-title">Podr√≠as ver tambi√©n</h2>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://res.cloudinary.com/hectorip/image/upload/c_scale,w_400/v1686348260/conrad-crawford-k3s7LZzX5xU-unsplash_p4cdwc.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2023/06/17/son-aplicables-y-practicos-los-principios-solid.html" rel="permalink">¬øSon aplicables y pr√°cticos los principios SOLID?
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




4 minutos de lectura



| <i class="far fa-calendar" aria-hidden="true"></i> 17-06-2023
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Los principios SOLID son algo que se considera como ‚Äòaxiomas‚Äô de las buenas pr√°cticas del software. Pero, ¬øson realmente √∫tiles?
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://res.cloudinary.com/hectorip/image/upload/c_scale,w_400/v1686285710/sebastian-svenson-LpbyDENbQQg-unsplash_ubvjty.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2023/06/15/libros-que-todo-desarrollador-de-software-deberia-leer-desarrollo-de-carrera.html" rel="permalink">Libros que todo desarrollador de software deber√≠a leer: desarrollo de carrera
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




22 minutos de lectura



| <i class="far fa-calendar" aria-hidden="true"></i> 15-06-2023
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Hablemos de los libros que te pueden ayudar a desarrollar tu carrera como desarrollador de software, escritos por personas con experiencia en el tema.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://res.cloudinary.com/hectorip/image/upload/c_scale,w_1400/v1639259084/markus-spiske-Y8R6_97_6Ps-unsplash_jlidn6.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2023/06/08/libros-que-todo-desarrollador-de-software-deberia-leer-arquitectura.html" rel="permalink">Libros que todo desarrollador de software deber√≠a leer: arquitectura
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




8 minutos de lectura



| <i class="far fa-calendar" aria-hidden="true"></i> 08-06-2023
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Hablemos ahora de los libros de arquitectura de software que te pueden ayudar a destacar en tu carrera como desarrollador de software.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://res.cloudinary.com/hectorip/image/upload/c_scale,w_1400/v1684557119/IMG_3866_xtomdi.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2023/05/30/pilares-fundamentales-de-las-ciencias-de-la-computacion.html" rel="permalink">Pilares fundamentales de las ciencias de la computaci√≥n
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




11 minutos de lectura



| <i class="far fa-calendar" aria-hidden="true"></i> 30-05-2023
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Siempre que se habla de ciencias de la computaci√≥n se habla de complejidad, algoritmos, etc. Pero hay cosas m√°s importantes que tenemos que comprender.
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap">
<form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term...">
  </form>
  <div id="results" class="results"></div>
</div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        
<script>
    var sharect = new Sharect();
    sharect.config({
      twitter: true,
      twitterUsername: '@thedojomx',
      backgroundColor: '#4b0082',
      iconColor: '#fff'
    }).init();
</script>
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Seguir:</strong></li>
    

    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">¬© 2023 The Dojo MX Blog. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "https://blog.thedojo.mx/2023/04/15/usando-langchain-para-crear-software-basado-en-llm-s.html";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/2023/04/15/usando-langchain-para-crear-software-basado-en-llm-s"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://the-dojo-mx-blog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>


  





  </body>
</html>
