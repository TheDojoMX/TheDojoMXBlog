<!doctype html><html lang=es dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>El principio de Inversión de Dependencias | The Dojo MX Blog</title>
<link rel=icon href=/favicon.svg sizes=any type=image/svg+xml><meta property="og:title" content="El principio de Inversión de Dependencias"><meta property="og:description" content="Analicemos el principio de Inversión de Dependencias, el último principio de SOLID y veamos si conviene, además cuándo aplicarlo."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.thedojo.mx/2023/04/22/el-principio-de-inversi%C3%B3n-de-dependencias/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-04-22T00:00:00+00:00"><meta property="article:modified_time" content="2023-04-22T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="El principio de Inversión de Dependencias"><meta name=twitter:description content="Analicemos el principio de Inversión de Dependencias, el último principio de SOLID y veamos si conviene, además cuándo aplicarlo."><link rel=stylesheet href=/css/extended.min.771dff75f9f3290205d2bfcbeda2ed15a5984c0414d431dfec3423ae5e37bb90.css integrity="sha256-dx3/dfnzKQIF0r/L7aLtFaWYTAQU1DHf7DQjrl43u5A=" crossorigin=anonymous><link rel=stylesheet href=/css/root.min.0e732b812b9751962e01a7c4798a1211cd5f8ac8abec7f99793fe306989e459f.css integrity="sha256-DnMrgSuXUZYuAafEeYoSEc1fisir7H+ZeT/jBpieRZ8=" crossorigin=anonymous><link rel=stylesheet href=/css/bundle.min.59eb1a059f8cd558e64375ede3e68d3e9120ddb0c6bdbab555c247689cef59e1.css integrity="sha256-WesaBZ+M1VjmQ3Xt4+aNPpEg3bDGvbq1VcJHaJzvWeE=" crossorigin=anonymous><script src=/js/bundle.cc8ae9952dbfb731affafabdf26e5c60a6910047ff59ccdeaf1daebaa26c8830.js integrity="sha256-zIrplS2/tzGv+vq98m5cYKaRAEf/Wczerx2uuqJsiDA=" crossorigin=anonymous></script><script defer src=/js/search/flexsearch.compact.64594b125f7b78bdf4fa8316955922bbebb1cd6baef3f16654bfca20309f18f8.js integrity="sha256-ZFlLEl97eL30+oMWlVkiu+uxzWuu8/FmVL/KIDCfGPg="></script><script defer src=/js/search/search.1d980f84df11f3eb7c8c5f17f541d49a0611608df179dd74fa7f06225eb56ace.js integrity="sha256-HZgPhN8R8+t8jF8X9UHUmgYRYI3xed10+n8GIl61as4="></script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel=stylesheet></head><body class=notransition><div id=container><header id=main-header><div role=navigation aria-label=Main><div class=nav-left><a href=https://blog.thedojo.mx/ style=color:inherit>The Dojo MX Blog</a></div><div class=nav-right><div style=position:absolute;width:0;height:0><div id=nav-dropdown-menu class=hidden href=#><div class=nav-item><a aria-current=true class=ancestor href=/posts/>Posts</a></div><div class=nav-item><a>Acerca de</a></div></div></div><a id=nav-dropdown-button href=#><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 6H20M4 12H20M4 18H20" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a><div id=nav-menu><div class=nav-item><a aria-current=true class=ancestor href=/posts/>Posts</a></div><div class=nav-item><a>Acerca de</a></div></div><a id=theme-switcher href=#><svg class="light-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 3V4m0 16v1M4 12H3M6.31412 6.31412 5.5 5.5m12.1859.81412L18.5 5.5M6.31412 17.69 5.5 18.5001M17.6859 17.69 18.5 18.5001M21 12H20m-4 0c0 2.2091-1.7909 4-4 4-2.20914.0-4-1.7909-4-4 0-2.20914 1.79086-4 4-4 2.2091.0 4 1.79086 4 4z" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg><svg class="dark-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.32031 11.6835c0 4.9706 4.02944 9 8.99999 9 3.7872.0 7.028-2.3392 8.3565-5.6515C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834c-4.9706.0-8.99999-4.0294-8.99999-8.99998C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996 5.65605 4.66028 3.32031 7.89912 3.32031 11.6835z" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a></div></div></header><div class="flex grow"><div id=main-pane><main id=main-content><div class=single-header><ol class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=https://blog.thedojo.mx/><span itemprop=name>Home</span>
</a><meta itemprop=position content='1'></li><span>&nbsp»&nbsp</span><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=https://blog.thedojo.mx/posts/><span itemprop=name>Posts</span>
</a><meta itemprop=position content='2'></li><span>&nbsp»&nbsp</span></ol><h1>El principio de Inversión de Dependencias</h1><time class=dim datetime=2023-04-22T00:00:00+00:00>April 22, 2023</time><div class=term-container><div class=tag><a href=https://blog.thedojo.mx/tags/solid/>#solid</a></div><div class=tag><a href=https://blog.thedojo.mx/tags/dependency-inversion/>#dependency-inversion</a></div><div class=tag><a href=https://blog.thedojo.mx/tags/inversion-dependencias/>#inversion-dependencias</a></div></ol></div><section class=page-section><p>Este es el artículo final sobre el análisis de los principios SOLID. En este artículo veremos el principio de <strong>Inversión de Dependencias</strong>, el cual nos dice que las clases de alto nivel no deben depender de las clases de bajo nivel, sino que ambas deben <strong>depender de abstracciones</strong>.</p><p>Veamos qué tan útil es en la vida real, aplicándolo día a día, cuáles son las formas de implementarlo y algunos ejemplos, asó como <strong>algunas críticas</strong>.</p><h2 id=principio-de-inversión-de-dependencias>Principio de Inversión de Dependencias</h2><p>El principio se establece en dos partes:</p><pre><code>A. Los módulos de alto nivel no deberían depender de los módulos de bajo nivel, ambos deben depender de abstracciones.

B. Las abstracciones no deberían depender de los detalles, los detalles deben depender de las abstracciones.
</code></pre><p>Esto es el principio de <strong>Sustitución de Liskov</strong>, pero llevado al extremo. Veamos algunos ejemplos en Python.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Database</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>connect</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>disconnect</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>query</span>(self, sql):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MySQLDatabase</span>(Database):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>connect</span>(self):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Connecting to MySQL&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>disconnect</span>(self):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Disconnecting from MySQL&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>query</span>(self, sql):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Querying MySQL&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>PostgreSQLDatabase</span>(Database):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>connect</span>(self):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Connecting to PostgreSQL&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>disconnect</span>(self):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Disconnecting from PostgreSQL&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>query</span>(self, sql):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Querying PostgreSQL&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DatabaseManager</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, database):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>database <span style=color:#f92672>=</span> database
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>connect</span>(self):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>database<span style=color:#f92672>.</span>connect()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>disconnect</span>(self):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>database<span style=color:#f92672>.</span>disconnect()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>query</span>(self, sql):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>database<span style=color:#f92672>.</span>query(sql)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Model</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, database_manager):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>database_manager <span style=color:#f92672>=</span> database_manager
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>save</span>(self):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>database_manager<span style=color:#f92672>.</span>query(<span style=color:#e6db74>&#34;INSERT INTO ...&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>my_model <span style=color:#f92672>=</span> Model(DatabaseManager(MySQLDatabase()))
</span></span></code></pre></div><p>En este ejemplo vemos claramente como la clase <code>Model</code> no depende directamente de una clase concreta de base de datos, sino que depende de una abstracción, la clase <code>DatabaseManager</code>. De esta manera el código de &ldquo;alto nivel&rdquo;, es decir, el modelo, no depende de un código de &ldquo;bajo nivel&rdquo;, la base de datos.</p><p>Aquí <strong>alto nivel</strong>, se refiere a la lógica de negocio, mientras que <strong>bajo nivel</strong> se refiere a la implementaciones de cosas no diferenciadas, como conexiones a base de datos y otras cosas similares.</p><p>Esto se ve muy sencillo aquí, justo en un lenguaje de tipado dinámico. Pero en lenguajes de tipado estático, como Java, esto se vuelve un poco más complicado, sobre todo cuando quieres que las clases se puedan cambiar de manera dinámica.</p><p>Es por esto que nació la técnica de <strong>Inyección de Dependencias</strong>, la cual consiste en inyectar una dependencia en una clase, en lugar de crearla dentro de la clase (la cuál tiene múltiples formas de aplicación). También se puede usar la <strong>Inversión de Control</strong>, que consiste en que en vez de que sea la clase o el método principal el que instancie alguna dependencia, sea un &ldquo;contenedor&rdquo;, que normalmente es un framework, el que se encargue de instanciar las dependencias y pasarlas a la clase o método que las necesita. Puedes leer más sobre <a href=https://medium.com/ssense-tech/dependency-injection-vs-dependency-inversion-vs-inversion-of-control-lets-set-the-record-straight-5dc818dc32d1>DI vs IoC</a>.</p><p>Finalmente, existe también el descubrimiento de servicios, en el que se &ldquo;pide&rdquo; an <strong>Localizador de Servicios</strong> que nos de lo que necesitamos para trabajar. Puedes leer sobre la aplicación de esto aquí, en un artículo de Martin Fowler: <a href=https://martinfowler.com/articles/injection.html>Inversion of Control Containers and the Dependency Injection pattern</a></p><p>A mi gusto, todo esto es muy complicado. Veamos algunas críticas a este principio.</p><h2 id=crítica-de-dan-north>Crítica de Dan North</h2><p>Analicemos la crítica de <a href=https://dannorth.net/about/>Dan North</a> (un reconocido desarrollador de software, consultor y coach) a este principio, al que no le parecen útiles los principios SOLID, sino que prefiere el código simple:</p><blockquote><p>While there is nothing fundamentally wrong with DIP, I don’t think it is an overstatement to say that our obsession with dependency inversion has single-handedly caused billions of dollars in irretrievable sunk cost and waste over the last couple of decades. - <strong>Dan North</strong></p></blockquote><p>En resumen, <a href=https://dannorth.net/2021/03/16/cupid-the-back-story/>Dan North</a> dice que aunque el principio en sí mismo no tiene nada de malo, el hecho de que nos obsesionemos con la <em>inversión de dependencias</em> ha causado miles de millones de dólares en pérdidas irreversibles.</p><p>Veamos otra cita de <strong>Dan North</strong>:</p><blockquote><p><strong>Most dependencies don’t need inverting, because most dependencies aren’t options, they are just the way we are going to do it this time.</strong> So my - by now entirely unsurprising - suggestion is to write simple code, by focusing on use rather than reuse.</p></blockquote><p>Esta cita la podemos traducir como:</p><blockquote><p>La mayoría de las dependencias no necesitan invertirse, porque la mayoría de las dependencias no son opciones, son simplemente la forma en que lo haremos esta vez. Así que mi - en este momento, completamente predecible - sugerencia <strong>es escribir código simple, centrándose en el uso en lugar de en la reutilización</strong>.</p></blockquote><p>Estoy completamente de acuerdo con esta crítica. La mayoría de veces no vas a necesitar reemplazar algo. Es mejor enfocarse en lo que va a suceder 98% de las veces que hacer algo súper complejo o que requiera de una gran cantidad de código en sí mismo como pegamento para que funcione.</p><p>Según el que propuso este principio, debería aplicarse siempre. Siempre deberías conectar cosas abstractas con otras cosas abstractas y luego hay algo que &ldquo;rellena&rdquo; estas cosas abstractas, o a lo que le puedes pedir que te de una implementación concreta de algo abstracto. <strong>Repito:</strong> a mi gusto es muy complicado y no es necesario en la mayoría de los casos.</p><p>Sin embargo, creo que hay casos, sobre todo aquellos en los que tienes concretamente los casos en las que las implementaciones pueden variar, en los que sí es útil. Por ejemplo imagina algo que tenga que conectarse a diferentes API&rsquo;s para proveer el mismo servicio, como por ejemplo, para enviar mensajes de texto a través de múltiples canales. En este caso, sí es útil, porque puedes tener una interfaz que defina el comportamiento de un servicio de mensajería, y luego múltiples implementaciones de esta interfaz, una para cada canal de mensajería, e inyectar las implementaciones de forma dinámica o mediante configuración.</p><h2 id=conclusión>Conclusión</h2><p>En este artículo hemos visto el principio de Inversión de Dependencias, el cual nos dice que las clases de alto nivel no deben depender de las clases de bajo nivel, sino que ambas deben depender de abstracciones.</p><p>Aunque puede ser útil en ciertos casos, para mi <strong>bastante específicos</strong>, creo que intentar aplicarlo siempre ha creado más problemas que luego hacen código difícil de entender y mantener, agregándole complejidad al código innecesariamente. Es mejor tener interfaces bien diseñadas, que sea fácil entenderlas y mantener en la cabeza.</p><p>En general, respecto a los principios <strong>SOLID</strong>, opino algo muy similar a lo que Dan North menciona: es más importante escribir código simple, que se entienda fácilmente.</p><p>Todos los principios se pueden resumir en estos que son el fundamento de la buena programación:</p><ol><li>Código simple, lo más simple posible (Single Responsiility Principle)</li><li>Ocultar información detrás de interfaces bien diseñadas (Single Responsibility Principle, Open/Closed Principle, Liskov Substitution Principle, Interface Segregation Principle)</li><li>Pensar bien las abstracciones que se usarán y mejorarlas constantemente (Dependency Inversion Principle)</li></ol><p>Nunca tendrás el diseño perfecto y siempre podrás mejorar tanto la arquitectura como tu código. Mientras más simple sea el código original, más probable es que tu código evolucione en algo que cumpla con lo que se espera de él. Por eso, siempre debes estar mejorando tu diseño en lo que puedas, revisando el diseño y creando mejores abstracciones.</p><p>Por último, siempre se habla de los principios SOLID como si fueran los dogmas de una religión y se habla de &ldquo;violarlos&rdquo; como si estos fueran obligatorios, o principios morales que siempre se deben seguir. Además, siempre se habla de ellos como si fueran las reglas que definen lo bueno y lo malo.</p><p>Para mi, conviene más seguir principios más generales, que un acrónimo creado con nombres de principios rimbombantes, que muchas veces son tan ambiguos que nadie qué significan exactamente, y cuando tienen aplicaciones reales, son tan complicadas que no se conviene aplicar en la mayoría de los casos.</p></section></main><footer id=main-footer><div class=footer><a href=#>Scroll to Top</a><div class=footer-copyright><div class=dim>© 2025 Héctor Patricio</div><div>Made with ❤️ and powered by <a href=https://github.com/math-queiroz/rusty-typewriter target=_blank>Rusty Typewriter</a> theme for <a href=https://gohugo.io/ target=_blank>Hugo</a></div></div></div></footer></div><aside id=side-pane class=side-sticky><div class=side-details><span>1272 words</span>
<span>8 - 10 minutes read</span></div><h3>Table Of Contents</h3><nav id=TableOfContents><ul><li><a href=#principio-de-inversión-de-dependencias>Principio de Inversión de Dependencias</a></li><li><a href=#crítica-de-dan-north>Crítica de Dan North</a></li><li><a href=#conclusión>Conclusión</a></li></ul></nav><h3>Related</h3><ul><li><a href=/2023/04/01/el-principio-de-segregaci%C3%B3n-de-interfaces/>El principio de segregación de Interfaces</a></li><li><a href=/2023/03/06/el-principio-de-sustituci%C3%B3n-de-liskov/>El principio de sustitución de Liskov</a></li><li><a href=/2022/12/03/el-principio-abierto/cerrado-open/closed/>El principio Abierto/Cerrado (Open/Closed)</a></li><li><a href=/2022/12/01/an%C3%A1lisis-de-los-principios-solid-principio-de-responsabilidad-%C3%BAnica/>Análisis de los principios SOLID: Principio de Responsabilidad Única</a></li><li><a href=/2019/03/19/principios-de-dise%C3%B1o-de-software/>Principios de Diseño de Software</a></li></ul></aside></div></div></body></html>